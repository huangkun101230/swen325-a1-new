{"version":3,"sources":["webpack:///src/app/pages/tab3/tab3.page.html","webpack:///src/app/pages/tab3/tab3-routing.module.ts","webpack:///src/app/pages/tab3/tab3.module.ts","webpack:///src/app/pages/tab3/tab3.page.scss","webpack:///src/app/pages/tab3/tab3.page.ts"],"names":["routes","path","component","Tab3PageRoutingModule","imports","forChild","exports","Tab3PageModule","declarations","Tab3Page","router","authService","profileService","platform","userId","firstName","lastName","ready","then","listenChanges","navigateByUrl","logoutUser","slef","db","collection","onSnapshot","includeMetadataChanges","snapshot","eventSource","docChanges","forEach","change","type","updateName","getUserProfile","get","userProfileSnapshot","userProfile","data","selector","template"],"mappings":"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","file":"tab3-tab3-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title>Your Account</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <ion-card-title class=\\\"title\\\"><strong>Welcome, <br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{firstName}} {{lastName}}</strong></ion-card-title>\\n\\n  <div class=\\\"buttons\\\">\\n    <ion-button class=\\\"profileBtn\\\" expand=\\\"block\\\" (click)=\\\"transferToProfilePage()\\\">Your Profile\\n    </ion-button>\\n\\n    <ion-button color=\\\"danger\\\" expand=\\\"block\\\" (click)=\\\"logOut()\\\">Log Out\\n    </ion-button>\\n  </div>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { Tab3Page } from './tab3.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab3Page\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class Tab3PageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { Tab3PageRoutingModule } from './tab3-routing.module';\n\nimport { Tab3Page } from './tab3.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    Tab3PageRoutingModule\n  ],\n  declarations: [Tab3Page]\n})\nexport class Tab3PageModule {}\n","export default \".buttons {\\n  margin-top: 30%;\\n}\\n\\n.profileBtn {\\n  margin-bottom: 10%;\\n}\\n\\n.title {\\n  margin-top: 10%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdGFiMy90YWIzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGVBQUE7QUFDSjs7QUFDQTtFQUNJLGtCQUFBO0FBRUo7O0FBQUE7RUFDSSxlQUFBO0FBR0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy90YWIzL3RhYjMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJ1dHRvbnN7XG4gICAgbWFyZ2luLXRvcDogMzAlO1xufVxuLnByb2ZpbGVCdG57XG4gICAgbWFyZ2luLWJvdHRvbTogMTAlO1xufVxuLnRpdGxle1xuICAgIG1hcmdpbi10b3A6IDEwJTtcbn0iXX0= */\";","import { Component, OnInit } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { AuthService } from \"src/app/services/user/auth.service\";\nimport * as firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport { ProfileService } from \"../../services/user/profile.service\";\nimport { Platform } from \"@ionic/angular\";\n\n@Component({\n  selector: \"app-tab3\",\n  templateUrl: \"./tab3.page.html\",\n  styleUrls: [\"./tab3.page.scss\"],\n})\nexport class Tab3Page implements OnInit {\n  public userProfile: any;\n  userId = \"\";\n  firstName = \"\";\n  lastName = \"\";\n\n  constructor(\n    private router: Router,\n    private authService: AuthService,\n    private profileService: ProfileService,\n    private platform: Platform\n  ) {}\n\n  ngOnInit() {\n    this.platform.ready().then(() => {\n      this.listenChanges();\n    });\n  }\n\n  transferToProfilePage() {\n    this.router.navigateByUrl(\"tabs/tab3/profile\");\n  }\n\n  logOut(): void {\n    this.authService.logoutUser().then(() => {\n      this.router.navigateByUrl(\"tabs/tab3/login\");\n    });\n  }\n\n  listenChanges() {\n    let slef = this;\n    let db = firebase.firestore();\n    db.collection(`/userProfile/${this.userId}`).onSnapshot(\n      { includeMetadataChanges: true },\n      function (snapshot) {\n        this.eventSource = [];\n        snapshot.docChanges().forEach(function (change) {\n          if (change.type === \"added\" || change.type === \"modified\") {\n            slef.updateName();\n          }\n        });\n      }\n    );\n  }\n\n  updateName() {\n    this.profileService\n      .getUserProfile()\n      .get()\n      .then((userProfileSnapshot) => {\n        this.userProfile = userProfileSnapshot.data();\n        this.firstName = this.userProfile.firstName;\n        this.lastName = this.userProfile.lastName;\n      });\n  }\n}\n"]}