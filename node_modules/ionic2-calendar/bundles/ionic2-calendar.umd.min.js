!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@ionic/angular"),require("rxjs")):"function"==typeof define&&define.amd?define("ionic2-calendar",["exports","@angular/core","@angular/common","@ionic/angular","rxjs"],t):t((e=e||self)["ionic2-calendar"]={},e.ng.core,e.ng.common,e.angular,e.rxjs)}(this,(function(e,t,n,a,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function o(e,t,n,a){var i,o=arguments.length,l=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,a);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(l=(o<3?i(l):o>3?i(t,n,l):i(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l}var l,r=function(){function e(){this.currentDateChangedFromParent=new i.Subject,this.currentDateChangedFromChildren=new i.Subject,this.eventSourceChanged=new i.Subject,this.slideChanged=new i.Subject,this.slideUpdated=new i.Subject,this.currentDateChangedFromParent$=this.currentDateChangedFromParent.asObservable(),this.currentDateChangedFromChildren$=this.currentDateChangedFromChildren.asObservable(),this.eventSourceChanged$=this.eventSourceChanged.asObservable(),this.slideChanged$=this.slideChanged.asObservable(),this.slideUpdated$=this.slideUpdated.asObservable()}return e.prototype.setCurrentDate=function(e,t){void 0===t&&(t=!1),this._currentDate=new Date(e),t?this.currentDateChangedFromParent.next(e):this.currentDateChangedFromChildren.next(e)},Object.defineProperty(e.prototype,"currentDate",{get:function(){return this._currentDate},enumerable:!0,configurable:!0}),e.prototype.rangeChanged=function(e){if("local"===this.queryMode)e.eventSource&&e.onDataLoaded&&e.onDataLoaded();else if("remote"===this.queryMode){var t=new Date(e.range.startTime.getTime()),n=new Date(e.range.endTime.getTime());t.setHours(0),23===t.getHours()&&t.setTime(t.getTime()+36e5),n.setHours(0),23===n.getHours()&&n.setTime(n.getTime()+36e5),e.onRangeChanged.emit({startTime:t,endTime:n})}},e.prototype.getStep=function(e){switch(e){case"month":return{years:0,months:1,days:0};case"week":return{years:0,months:0,days:7};case"day":return{years:0,months:0,days:1}}},e.prototype.getAdjacentCalendarDate=function(e,t){var n=this.currentDate,a=this.getStep(e),i=n.getFullYear()+t*a.years,o=n.getMonth()+t*a.months,l=n.getDate()+t*a.days;if(n=new Date(i,o,l,12,0,0),"month"===e){var r=new Date(i,o+1,1,12,0,0);r.getTime()<=n.getTime()&&(n=new Date(r.getTime()-864e5))}return n},e.prototype.getAdjacentViewStartTime=function(e,t){var n=this.getAdjacentCalendarDate(e.mode,t);return e.getRange(n).startTime},e.prototype.populateAdjacentViews=function(e){var t,n,a,i=e.currentViewIndex;1===e.direction?(t=this.getAdjacentViewStartTime(e,1),a=(i+1)%3,e.views[a]=e.getViewData(t)):-1===e.direction?(t=this.getAdjacentViewStartTime(e,-1),a=(i+2)%3,e.views[a]=e.getViewData(t)):e.views?(t=e.range.startTime,e.views[i]=e.getViewData(t),t=this.getAdjacentViewStartTime(e,-1),a=(i+2)%3,e.views[a]=e.getViewData(t),t=this.getAdjacentViewStartTime(e,1),a=(i+1)%3,e.views[a]=e.getViewData(t)):(n=[],t=e.range.startTime,n.push(e.getViewData(t)),t=this.getAdjacentViewStartTime(e,1),n.push(e.getViewData(t)),t=this.getAdjacentViewStartTime(e,-1),n.push(e.getViewData(t)),e.views=n)},e.prototype.loadEvents=function(){this.eventSourceChanged.next()},e.prototype.slide=function(e){this.slideChanged.next(e)},e.prototype.update=function(){this.slideUpdated.next()},e=o([t.Injectable()],e)}(),s=function(){function e(e){this.calendarService=e,this.autoSelect=!0,this.dir="",this.onRangeChanged=new t.EventEmitter,this.onEventSelected=new t.EventEmitter,this.onTimeSelected=new t.EventEmitter(!0),this.onTitleChanged=new t.EventEmitter(!0),this.views=[],this.currentViewIndex=0,this.mode="month",this.direction=0,this.moveOnSelected=!1,this.inited=!1,this.callbackOnInit=!0}var a;return a=e,e.getDates=function(e,t){for(var n=new Array(t),a=new Date(e.getTime()),i=0;i<t;)n[i++]=new Date(a.getTime()),a.setDate(a.getDate()+1);return n},e.prototype.ngOnInit=function(){var e=this;if(this.sliderOptions||(this.sliderOptions={}),this.sliderOptions.loop=!0,this.dateFormatter&&this.dateFormatter.formatMonthViewDay)this.formatDayLabel=this.dateFormatter.formatMonthViewDay;else{var t=new n.DatePipe("en-US");this.formatDayLabel=function(e){return t.transform(e,this.formatDay)}}if(this.dateFormatter&&this.dateFormatter.formatMonthViewDayHeader)this.formatDayHeaderLabel=this.dateFormatter.formatMonthViewDayHeader;else{var a=new n.DatePipe(this.locale);this.formatDayHeaderLabel=function(e){return a.transform(e,this.formatDayHeader)}}if(this.dateFormatter&&this.dateFormatter.formatMonthViewTitle)this.formatTitle=this.dateFormatter.formatMonthViewTitle;else{var i=new n.DatePipe(this.locale);this.formatTitle=function(e){return i.transform(e,this.formatMonthTitle)}}this.lockSwipeToPrev&&this.slider.lockSwipeToPrev(!0),this.lockSwipes&&this.slider.lockSwipes(!0),this.refreshView(),this.inited=!0,this.currentDateChangedFromParentSubscription=this.calendarService.currentDateChangedFromParent$.subscribe((function(t){e.refreshView()})),this.eventSourceChangedSubscription=this.calendarService.eventSourceChanged$.subscribe((function(){e.onDataLoaded()})),this.slideChangedSubscription=this.calendarService.slideChanged$.subscribe((function(t){1===t?e.slider.slideNext():-1===t&&e.slider.slidePrev()})),this.slideUpdatedSubscription=this.calendarService.slideUpdated$.subscribe((function(){e.slider.update()}))},e.prototype.ngOnDestroy=function(){this.currentDateChangedFromParentSubscription&&(this.currentDateChangedFromParentSubscription.unsubscribe(),this.currentDateChangedFromParentSubscription=null),this.eventSourceChangedSubscription&&(this.eventSourceChangedSubscription.unsubscribe(),this.eventSourceChangedSubscription=null),this.slideChangedSubscription&&(this.slideChangedSubscription.unsubscribe(),this.slideChangedSubscription=null),this.slideUpdatedSubscription&&(this.slideUpdatedSubscription.unsubscribe(),this.slideUpdatedSubscription=null)},e.prototype.ngOnChanges=function(e){if(this.inited){var t=e.eventSource;t&&t.currentValue&&this.onDataLoaded();var n=e.lockSwipeToPrev;n&&this.slider.lockSwipeToPrev(n.currentValue);var a=e.lockSwipes;a&&this.slider.lockSwipes(a.currentValue)}},e.prototype.ngAfterViewInit=function(){var e=this.getTitle();this.onTitleChanged.emit(e)},e.prototype.onSlideChanged=function(){var e=this;if(this.callbackOnInit)this.callbackOnInit=!1;else{var t=0,n=this.currentViewIndex;this.slider.getActiveIndex().then((function(a){a=(a+2)%3,isNaN(a)&&(a=n),a-n==1?t=1:0===a&&2===n?(t=1,e.slider.slideTo(1,0,!1)):n-a==1?t=-1:2===a&&0===n&&(t=-1,e.slider.slideTo(3,0,!1)),e.currentViewIndex=a,e.move(t)}))}},e.prototype.move=function(e){if(0!==e){if(this.direction=e,!this.moveOnSelected){var t=this.calendarService.getAdjacentCalendarDate(this.mode,e);this.calendarService.setCurrentDate(t)}this.refreshView(),this.direction=0,this.moveOnSelected=!1}},e.prototype.createDateObject=function(e){var t=!1;return this.markDisabled&&(t=this.markDisabled(e)),{date:e,events:[],label:this.formatDayLabel(e),secondary:!1,disabled:t}},e.prototype.getViewData=function(e){for(var t=e,n=t.getDate(),i=(t.getMonth()+(1!==n?1:0))%12,o=a.getDates(t,42),l=[],r=0;r<42;r++){var s=this.createDateObject(o[r]);s.secondary=o[r].getMonth()!==i,l[r]=s}var d=[];for(r=0;r<7;r++)d.push(this.formatDayHeaderLabel(l[r].date));return{dates:l,dayHeaders:d}},e.prototype.getHighlightClass=function(e){var t="";return e.hasEvent&&(t=e.secondary?"monthview-secondary-with-event":"monthview-primary-with-event"),e.selected&&(t&&(t+=" "),t+="monthview-selected"),e.current&&(t&&(t+=" "),t+="monthview-current"),e.secondary&&(t&&(t+=" "),t+="text-muted"),e.disabled&&(t&&(t+=" "),t+="monthview-disabled"),t},e.prototype.getRange=function(e){var t=e.getFullYear(),n=e.getMonth(),a=new Date(t,n,1,12,0,0),i=this.startingDayMonth-a.getDay(),o=i>0?7-i:-i,l=new Date(a.getTime());o>0&&l.setDate(1-o);var r=new Date(l.getTime());return r.setDate(r.getDate()+42),{startTime:l,endTime:r}},e.prototype.onDataLoaded=function(){for(var e=this.range,t=this.eventSource,n=t?t.length:0,a=e.startTime,i=e.endTime,o=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()),l=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()),r=this.currentViewIndex,s=this.views[r].dates,d=0;d<42;d+=1)s[d].hasEvent&&(s[d].hasEvent=!1,s[d].events=[]);for(var c=0;c<n;c+=1){var p=t[c],v=p.startTime,h=p.endTime,u=void 0,m=void 0;if(p.allDay?(u=v.getTime(),m=h.getTime()):(u=Date.UTC(v.getFullYear(),v.getMonth(),v.getDate()),m=Date.UTC(h.getFullYear(),h.getMonth(),h.getDate()+1)),!(m<=o||u>=l)){var g=void 0,w=void 0;g=u<o?0:(u-o)/864e5,w=m>l?(l-o)/864e5:(m-o)/864e5;for(var y=Math.floor(g),b=Math.ceil(w-6e-4);y<b;){s[y].hasEvent=!0;var f=s[y].events;f?f.push(p):((f=[]).push(p),s[y].events=f),y+=1}}}for(d=0;d<42;d+=1)s[d].hasEvent&&s[d].events.sort(this.compareEvent);if(this.autoSelect){var T=!1;for(d=0;d<42;d+=1)if(s[d].selected){this.selectedDate=s[d],T=!0;break}T&&this.onTimeSelected.emit({selectedTime:this.selectedDate.date,events:this.selectedDate.events,disabled:this.selectedDate.disabled})}},e.prototype.refreshView=function(){if(this.range=this.getRange(this.calendarService.currentDate),this.inited){var e=this.getTitle();this.onTitleChanged.emit(e)}this.calendarService.populateAdjacentViews(this),this.updateCurrentView(this.range.startTime,this.views[this.currentViewIndex]),this.calendarService.rangeChanged(this)},e.prototype.getTitle=function(){var e=this.range.startTime,t=e.getDate(),n=(e.getMonth()+(1!==t?1:0))%12,a=e.getFullYear()+(1!==t&&0===n?1:0),i=new Date(a,n,1,12,0,0,0);return this.formatTitle(i)},e.prototype.compareEvent=function(e,t){return e.allDay?1:t.allDay?-1:e.startTime.getTime()-t.startTime.getTime()},e.prototype.select=function(e){if(this.views){var t=e.date,n=e.events;if(!e.disabled){var a=this.views[this.currentViewIndex].dates,i=this.calendarService.currentDate,o=i.getMonth(),l=i.getFullYear(),r=t.getMonth(),s=t.getFullYear(),d=0;if(l===s?o!==r&&(d=o<r?1:-1):d=l<s?1:-1,this.calendarService.setCurrentDate(t),0===d){for(var c=this.range.startTime,p=Math.round((Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())-Date.UTC(c.getFullYear(),c.getMonth(),c.getDate()))/864e5),v=0;v<42;v+=1)a[v].selected=!1;p>=0&&p<42&&(a[p].selected=!0,this.selectedDate=a[p])}else this.moveOnSelected=!0,this.slideView(d)}this.onTimeSelected.emit({selectedTime:t,events:n,disabled:e.disabled})}},e.prototype.slideView=function(e){1===e?this.slider.slideNext():-1===e&&this.slider.slidePrev()},e.prototype.updateCurrentView=function(e,t){for(var n=this.calendarService.currentDate,a=new Date,i=Math.round((Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5),o=Math.round((Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5),l=0;l<42;l+=1)t.dates[l].selected=!1;i>=0&&i<42&&!t.dates[i].disabled&&(this.autoSelect||this.moveOnSelected)?(t.dates[i].selected=!0,this.selectedDate=t.dates[i]):this.selectedDate={date:null,events:[],label:null,secondary:null,disabled:!1},o>=0&&o<42&&(t.dates[o].current=!0)},e.prototype.eventSelected=function(e){this.onEventSelected.emit(e)},e.ctorParameters=function(){return[{type:r}]},o([t.ViewChild("monthSlider",{static:!0})],e.prototype,"slider",void 0),o([t.Input()],e.prototype,"monthviewDisplayEventTemplate",void 0),o([t.Input()],e.prototype,"monthviewInactiveDisplayEventTemplate",void 0),o([t.Input()],e.prototype,"monthviewEventDetailTemplate",void 0),o([t.Input()],e.prototype,"formatDay",void 0),o([t.Input()],e.prototype,"formatDayHeader",void 0),o([t.Input()],e.prototype,"formatMonthTitle",void 0),o([t.Input()],e.prototype,"eventSource",void 0),o([t.Input()],e.prototype,"startingDayMonth",void 0),o([t.Input()],e.prototype,"showEventDetail",void 0),o([t.Input()],e.prototype,"noEventsLabel",void 0),o([t.Input()],e.prototype,"autoSelect",void 0),o([t.Input()],e.prototype,"markDisabled",void 0),o([t.Input()],e.prototype,"locale",void 0),o([t.Input()],e.prototype,"dateFormatter",void 0),o([t.Input()],e.prototype,"dir",void 0),o([t.Input()],e.prototype,"lockSwipeToPrev",void 0),o([t.Input()],e.prototype,"lockSwipes",void 0),o([t.Input()],e.prototype,"sliderOptions",void 0),o([t.Output()],e.prototype,"onRangeChanged",void 0),o([t.Output()],e.prototype,"onEventSelected",void 0),o([t.Output()],e.prototype,"onTimeSelected",void 0),o([t.Output()],e.prototype,"onTitleChanged",void 0),e=a=o([t.Component({selector:"monthview",template:'\n        <div>\n            <ion-slides #monthSlider [options]="sliderOptions" [dir]="dir" (ionSlideDidChange)="onSlideChanged()">\n                <ion-slide>\n                    <table *ngIf="0===currentViewIndex" class="table table-bordered table-fixed monthview-datetable">\n                        <thead>\n                        <tr>\n                            <th *ngFor="let dayHeader of views[0].dayHeaders">\n                                <small>{{dayHeader}}</small>\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr *ngFor="let row of [0,1,2,3,4,5]">\n                            <td *ngFor="let col of [0,1,2,3,4,5,6]" tappable (click)="select(views[0].dates[row*7+col])"\n                                [ngClass]="getHighlightClass(views[0].dates[row*7+col])">\n                                <ng-template [ngTemplateOutlet]="monthviewDisplayEventTemplate"\n                                             [ngTemplateOutletContext]="{view: views[0], row: row, col: col}">\n                                </ng-template>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                    <table *ngIf="0!==currentViewIndex" class="table table-bordered table-fixed monthview-datetable">\n                        <thead>\n                        <tr class="text-center">\n                            <th *ngFor="let dayHeader of views[0].dayHeaders">\n                                <small>{{dayHeader}}</small>\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr *ngFor="let row of [0,1,2,3,4,5]">\n                            <td *ngFor="let col of [0,1,2,3,4,5,6]">\n                                <ng-template [ngTemplateOutlet]="monthviewInactiveDisplayEventTemplate"\n                                             [ngTemplateOutletContext]="{view: views[0], row: row, col: col}">\n                                </ng-template>\n                            </td>\n                        <tr>\n                        </tbody>\n                    </table>\n                </ion-slide>\n                <ion-slide>\n                    <table *ngIf="1===currentViewIndex" class="table table-bordered table-fixed monthview-datetable">\n                        <thead>\n                        <tr>\n                            <th *ngFor="let dayHeader of views[1].dayHeaders">\n                                <small>{{dayHeader}}</small>\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr *ngFor="let row of [0,1,2,3,4,5]">\n                            <td *ngFor="let col of [0,1,2,3,4,5,6]" tappable (click)="select(views[1].dates[row*7+col])"\n                                [ngClass]="getHighlightClass(views[1].dates[row*7+col])">\n                                <ng-template [ngTemplateOutlet]="monthviewDisplayEventTemplate"\n                                             [ngTemplateOutletContext]="{view: views[1], row: row, col: col}">\n                                </ng-template>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                    <table *ngIf="1!==currentViewIndex" class="table table-bordered table-fixed monthview-datetable">\n                        <thead>\n                        <tr class="text-center">\n                            <th *ngFor="let dayHeader of views[1].dayHeaders">\n                                <small>{{dayHeader}}</small>\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr *ngFor="let row of [0,1,2,3,4,5]">\n                            <td *ngFor="let col of [0,1,2,3,4,5,6]">\n                                <ng-template [ngTemplateOutlet]="monthviewInactiveDisplayEventTemplate"\n                                             [ngTemplateOutletContext]="{view: views[1], row: row, col: col}">\n                                </ng-template>\n                            </td>\n                        <tr>\n                        </tbody>\n                    </table>\n                </ion-slide>\n                <ion-slide>\n                    <table *ngIf="2===currentViewIndex" class="table table-bordered table-fixed monthview-datetable">\n                        <thead>\n                        <tr>\n                            <th *ngFor="let dayHeader of views[2].dayHeaders">\n                                <small>{{dayHeader}}</small>\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr *ngFor="let row of [0,1,2,3,4,5]">\n                            <td *ngFor="let col of [0,1,2,3,4,5,6]" tappable (click)="select(views[2].dates[row*7+col])"\n                                [ngClass]="getHighlightClass(views[2].dates[row*7+col])">\n                                <ng-template [ngTemplateOutlet]="monthviewDisplayEventTemplate"\n                                             [ngTemplateOutletContext]="{view: views[2], row: row, col: col}">\n                                </ng-template>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                    <table *ngIf="2!==currentViewIndex" class="table table-bordered table-fixed monthview-datetable">\n                        <thead>\n                        <tr class="text-center">\n                            <th *ngFor="let dayHeader of views[2].dayHeaders">\n                                <small>{{dayHeader}}</small>\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr *ngFor="let row of [0,1,2,3,4,5]">\n                            <td *ngFor="let col of [0,1,2,3,4,5,6]">\n                                <ng-template [ngTemplateOutlet]="monthviewInactiveDisplayEventTemplate"\n                                             [ngTemplateOutletContext]="{view: views[2], row: row, col: col}">\n                                </ng-template>\n                            </td>\n                        <tr>\n                        </tbody>\n                    </table>\n                </ion-slide>\n            </ion-slides>\n            <ng-template [ngTemplateOutlet]="monthviewEventDetailTemplate"\n                         [ngTemplateOutletContext]="{showEventDetail:showEventDetail, selectedDate: selectedDate, noEventsLabel: noEventsLabel}">\n            </ng-template>\n        </div>\n    ',styles:["\n        .text-muted {\n            color: #999;\n        }\n\n        .table-fixed {\n            table-layout: fixed;\n        }\n\n        .table {\n            width: 100%;\n            max-width: 100%;\n            background-color: transparent;\n        }\n\n        .table > thead > tr > th, .table > tbody > tr > th, .table > tfoot > tr > th, .table > thead > tr > td,\n        .table > tbody > tr > td, .table > tfoot > tr > td {\n            padding: 8px;\n            line-height: 20px;\n            vertical-align: top;\n        }\n\n        .table > thead > tr > th {\n            vertical-align: bottom;\n            border-bottom: 2px solid #ddd;\n        }\n\n        .table > thead:first-child > tr:first-child > th, .table > thead:first-child > tr:first-child > td {\n            border-top: 0\n        }\n\n        .table > tbody + tbody {\n            border-top: 2px solid #ddd;\n        }\n\n        .table-bordered {\n            border: 1px solid #ddd;\n        }\n\n        .table-bordered > thead > tr > th, .table-bordered > tbody > tr > th, .table-bordered > tfoot > tr > th,\n        .table-bordered > thead > tr > td, .table-bordered > tbody > tr > td, .table-bordered > tfoot > tr > td {\n            border: 1px solid #ddd;\n        }\n\n        .table-bordered > thead > tr > th, .table-bordered > thead > tr > td {\n            border-bottom-width: 2px;\n        }\n\n        .table-striped > tbody > tr:nth-child(odd) > td, .table-striped > tbody > tr:nth-child(odd) > th {\n            background-color: #f9f9f9\n        }\n\n        .monthview-primary-with-event {\n            background-color: #3a87ad;\n            color: white;\n        }\n\n        .monthview-current {\n            background-color: #f0f0f0;\n        }\n\n        .monthview-selected {\n            background-color: #009900;\n            color: white;\n        }\n\n        .monthview-datetable td.monthview-disabled {\n            color: lightgrey;\n            cursor: default;\n        }\n\n        .monthview-datetable th {\n            text-align: center;\n        }\n\n        .monthview-datetable td {\n            cursor: pointer;\n            text-align: center;\n        }\n\n        .monthview-secondary-with-event {\n            background-color: #d9edf7;\n        }\n\n        ::-webkit-scrollbar,\n        *::-webkit-scrollbar {\n            display: none;\n        }\n    "]})],e)}(),d=function(){function e(e,n){this.calendarService=e,this.elm=n,this.class=!0,this.autoSelect=!0,this.dir="",this.scrollToHour=0,this.onRangeChanged=new t.EventEmitter,this.onEventSelected=new t.EventEmitter,this.onTimeSelected=new t.EventEmitter,this.onTitleChanged=new t.EventEmitter(!0),this.views=[],this.currentViewIndex=0,this.direction=0,this.mode="week",this.inited=!1,this.callbackOnInit=!0}var a;return a=e,e.createDateObjects=function(e,t,n,a){var i,o,l=[],r=e.getDate();a<1?(i=Math.floor(1/a),o=60):(i=1,o=Math.floor(60/a));for(var s=t;s<n;s+=i)for(var d=0;d<60;d+=o){for(var c=[],p=0;p<7;p+=1){var v=new Date(e.getTime());v.setHours(0+s,d),v.setDate(r+p),c.push({events:[],time:v})}l.push(c)}return l},e.getDates=function(e,t){for(var n=new Array(t),a=new Date(e.getTime()),i=0;i<t;)n[i++]={date:new Date(a.getTime()),events:[],dayHeader:""},a.setDate(a.getDate()+1);return n},e.compareEventByStartOffset=function(e,t){return e.startOffset-t.startOffset},e.calculateWidth=function(e,t,n){var a=t*n,i=new Array(a);e.sort((function(e,t){return t.position-e.position}));for(var o=0;o<a;o+=1)i[o]={calculated:!1,events:[]};for(var l=e.length,r=0;r<l;r+=1)for(var s=e[r],d=s.startIndex*n+s.startOffset;d<s.endIndex*n-s.endOffset;)i[d].events.push(s),d+=1;for(var c=0;c<l;){var p=e[c];if(!p.overlapNumber){var v=p.position+1;p.overlapNumber=v;for(var h=[p];p=h.shift();)for(d=p.startIndex*n+p.startOffset;d<p.endIndex*n-p.endOffset;){if(!i[d].calculated&&(i[d].calculated=!0,i[d].events))for(var u=i[d].events.length,m=0;m<u;m+=1){var g=i[d].events[m];g.overlapNumber||(g.overlapNumber=v,h.push(g))}d+=1}}c+=1}},e.prototype.ngOnInit=function(){var e=this;if(this.sliderOptions||(this.sliderOptions={}),this.sliderOptions.loop=!0,this.hourRange=(this.endHour-this.startHour)*this.hourSegments,this.dateFormatter&&this.dateFormatter.formatWeekViewDayHeader)this.formatDayHeader=this.dateFormatter.formatWeekViewDayHeader;else{var t=new n.DatePipe(this.locale);this.formatDayHeader=function(e){return t.transform(e,this.formatWeekViewDayHeader)}}if(this.dateFormatter&&this.dateFormatter.formatWeekViewTitle)this.formatTitle=this.dateFormatter.formatWeekViewTitle;else{var a=new n.DatePipe(this.locale);this.formatTitle=function(e){return a.transform(e,this.formatWeekTitle)}}if(this.dateFormatter&&this.dateFormatter.formatWeekViewHourColumn)this.formatHourColumnLabel=this.dateFormatter.formatWeekViewHourColumn;else{var i=new n.DatePipe(this.locale);this.formatHourColumnLabel=function(e){return i.transform(e,this.formatHourColumn)}}this.lockSwipeToPrev&&this.slider.lockSwipeToPrev(!0),this.lockSwipes&&this.slider.lockSwipes(!0),this.refreshView(),this.hourColumnLabels=this.getHourColumnLabels(),this.inited=!0,this.currentDateChangedFromParentSubscription=this.calendarService.currentDateChangedFromParent$.subscribe((function(t){e.refreshView()})),this.eventSourceChangedSubscription=this.calendarService.eventSourceChanged$.subscribe((function(){e.onDataLoaded()})),this.slideChangedSubscription=this.calendarService.slideChanged$.subscribe((function(t){1===t?e.slider.slideNext():-1===t&&e.slider.slidePrev()})),this.slideUpdatedSubscription=this.calendarService.slideUpdated$.subscribe((function(){e.slider.update()}))},e.prototype.ngAfterViewInit=function(){var e=this.getTitle();if(this.onTitleChanged.emit(e),this.scrollToHour>0){var t=this.elm.nativeElement.querySelector(".weekview-normal-event-container").querySelectorAll(".calendar-hour-column"),n=this;setTimeout((function(){n.initScrollPosition=t[n.scrollToHour-n.startHour].offsetTop}),50)}},e.prototype.ngOnChanges=function(e){if(this.inited){var t=e.eventSource;t&&t.currentValue&&this.onDataLoaded();var n=e.lockSwipeToPrev;n&&this.slider.lockSwipeToPrev(n.currentValue);var a=e.lockSwipes;a&&this.slider.lockSwipes(a.currentValue)}},e.prototype.ngOnDestroy=function(){this.currentDateChangedFromParentSubscription&&(this.currentDateChangedFromParentSubscription.unsubscribe(),this.currentDateChangedFromParentSubscription=null),this.eventSourceChangedSubscription&&(this.eventSourceChangedSubscription.unsubscribe(),this.eventSourceChangedSubscription=null),this.slideChangedSubscription&&(this.slideChangedSubscription.unsubscribe(),this.slideChangedSubscription=null),this.slideUpdatedSubscription&&(this.slideUpdatedSubscription.unsubscribe(),this.slideUpdatedSubscription=null)},e.prototype.onSlideChanged=function(){var e=this;if(this.callbackOnInit)this.callbackOnInit=!1;else{var t=this.currentViewIndex,n=0;this.slider.getActiveIndex().then((function(a){a=(a+2)%3,isNaN(a)&&(a=t),a-t==1?n=1:0===a&&2===t?(n=1,e.slider.slideTo(1,0,!1)):t-a==1?n=-1:2===a&&0===t&&(n=-1,e.slider.slideTo(3,0,!1)),e.currentViewIndex=a,e.move(n)}))}},e.prototype.move=function(e){if(0!==e){this.direction=e;var t=this.calendarService.getAdjacentCalendarDate(this.mode,e);this.calendarService.setCurrentDate(t),this.refreshView(),this.direction=0}},e.prototype.getHourColumnLabels=function(){for(var e=[],t=0,n=this.views[0].rows.length;t<n;t+=1)if(0===t&&this.views[0].rows[t][0].time.getHours()!==this.startHour){var a=new Date(this.views[0].rows[t][0].time);a.setDate(a.getDate()+1),a.setHours(this.startHour),e.push(this.formatHourColumnLabel(a))}else e.push(this.formatHourColumnLabel(this.views[0].rows[t][0].time));return e},e.prototype.getViewData=function(e){for(var t=a.getDates(e,7),n=0;n<7;n++)t[n].dayHeader=this.formatDayHeader(t[n].date);return{rows:a.createDateObjects(e,this.startHour,this.endHour,this.hourSegments),dates:t}},e.prototype.getRange=function(e){var t=e.getFullYear(),n=e.getMonth(),a=e.getDate(),i=e.getDay()-this.startingDayWeek;return i<0&&(i+=7),{startTime:new Date(t,n,a-i,12,0,0),endTime:new Date(t,n,a-i+7,12,0,0)}},e.prototype.onDataLoaded=function(){for(var e=this.eventSource,t=e?e.length:0,n=this.range.startTime,i=this.range.endTime,o=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()),l=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()),r=this.currentViewIndex,s=this.views[r].rows,d=this.views[r].dates,c=this.startHour*this.hourSegments,p=this.endHour*this.hourSegments,v=24*this.hourSegments,h=!1,u=!1,m=0;m<7;m+=1)d[m].events=[],d[m].hasEvent=!1;for(var g=0;g<7;g+=1)for(var w=0;w<this.hourRange;w+=1)s[w][g].events=[];for(m=0;m<t;m+=1){var y=e[m],b=y.startTime,f=y.endTime,T=void 0,S=void 0;if(y.allDay?(T=b.getTime(),S=f.getTime()):(T=Date.UTC(b.getFullYear(),b.getMonth(),b.getDate()),S=Date.UTC(f.getFullYear(),f.getMonth(),f.getDate()+1)),!(S<=o||T>=l||b>=f))if(y.allDay){h=!0;var D=void 0,x={event:y,startIndex:D=T<=o?0:Math.round((T-o)/864e5),endIndex:S>=l?Math.round((l-o)/864e5):Math.round((S-o)/864e5)};(A=d[D].events)?A.push(x):((A=[]).push(x),d[D].events=A),d[D].hasEvent=!0}else{u=!0;var E=void 0;E=T<o?0:(T-o)/36e5*this.hourSegments+(b.getHours()+b.getMinutes()/60)*this.hourSegments;var C=void 0;C=S>l?(l-o)/36e5*this.hourSegments:(S-864e5-o)/36e5*this.hourSegments+(f.getHours()+f.getMinutes()/60)*this.hourSegments;var I=Math.floor(E),k=Math.ceil(C-.016),O=I%v,P=Math.floor(I/v),H=P*v,F=0,V=0;1!==this.hourParts&&(F=O<c?0:Math.floor((E-I)*this.hourParts));do{var M=void 0;if((H+=v)<k?M=v:(M=H===k?v:k%v,1!==this.hourParts&&(V=M>p?0:Math.floor((k-C)*this.hourParts))),O<c?O=0:O-=c,M>p&&(M=p),O<(M-=c)){var A,L={event:y,startIndex:O,endIndex:M,startOffset:F,endOffset:V};(A=s[O][P].events)?A.push(L):((A=[]).push(L),s[O][P].events=A),d[P].hasEvent=!0}O=0,F=0,P+=1}while(H<k)}}if(u)for(g=0;g<7;g+=1){var N=[];for(w=0;w<this.hourRange;w+=1)s[w][g].events&&(s[w][g].events.sort(a.compareEventByStartOffset),N=N.concat(s[w][g].events));N.length>0&&this.placeEvents(N)}if(h){var U=[];for(g=0;g<7;g+=1)d[g].events&&(U=U.concat(d[g].events));U.length>0&&this.placeAllDayEvents(U)}if(this.autoSelect){for(var j=!1,$=void 0,R=0;R<7;R+=1)if(d[R].selected){$=d[R],j=!0;break}if(j){var W=!1;this.markDisabled&&(W=this.markDisabled($.date)),this.onTimeSelected.emit({selectedTime:$.date,events:$.events.map((function(e){return e.event})),disabled:W})}}},e.prototype.refreshView=function(){if(this.range=this.getRange(this.calendarService.currentDate),this.inited){var e=this.getTitle();this.onTitleChanged.emit(e)}this.calendarService.populateAdjacentViews(this),this.updateCurrentView(this.range.startTime,this.views[this.currentViewIndex]),this.calendarService.rangeChanged(this)},e.prototype.getTitle=function(){var e=new Date(this.range.startTime.getTime());return e.setHours(12,0,0,0),this.formatTitle(e)},e.prototype.getHighlightClass=function(e){var t="";return e.hasEvent&&(t&&(t+=" "),t="weekview-with-event"),e.selected&&(t&&(t+=" "),t+="weekview-selected"),e.current&&(t&&(t+=" "),t+="weekview-current"),t},e.prototype.select=function(e,t){var n=!1;this.markDisabled&&(n=this.markDisabled(e)),this.onTimeSelected.emit({selectedTime:e,events:t.map((function(e){return e.event})),disabled:n})},e.prototype.placeEvents=function(e){this.calculatePosition(e),a.calculateWidth(e,this.hourRange,this.hourParts)},e.prototype.placeAllDayEvents=function(e){this.calculatePosition(e)},e.prototype.overlap=function(e,t){var n=e,a=t;return(e.startIndex>t.startIndex||e.startIndex===t.startIndex&&e.startOffset>t.startOffset)&&(n=t,a=e),!(n.endIndex<=a.startIndex)&&!(n.endIndex-a.startIndex==1&&n.endOffset+a.startOffset>=this.hourParts)},e.prototype.calculatePosition=function(e){for(var t=e.length,n=new Array(t),a=0,i=0;i<t;i+=1){var o=void 0;for(o=0;o<a;o+=1)n[o]=!1;for(var l=0;l<i;l+=1)this.overlap(e[i],e[l])&&(n[e[l].position]=!0);for(o=0;o<a&&n[o];o+=1);e[i].position=o<a?o:a++}if("rtl"===this.dir)for(i=0;i<t;i+=1)e[i].position=a-1-e[i].position},e.prototype.updateCurrentView=function(e,t){for(var n=this.calendarService.currentDate,a=new Date,i=Math.round((Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5),o=Math.floor((Date.UTC(a.getFullYear(),a.getMonth(),a.getTime())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5),l=0;l<7;l+=1)t.dates[l].selected=!1;i>=0&&i<7&&this.autoSelect&&(t.dates[i].selected=!0),o>=0&&o<7&&(t.dates[o].current=!0)},e.prototype.daySelected=function(e){var t=e.date,n=this.views[this.currentViewIndex].dates,a=this.range.startTime,i=Math.round((Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())-Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()))/864e5);this.calendarService.setCurrentDate(t);for(var o=0;o<7;o+=1)n[o].selected=!1;i>=0&&i<7&&(n[i].selected=!0);var l=!1;this.markDisabled&&(l=this.markDisabled(t)),this.onTimeSelected.emit({selectedTime:t,events:e.events.map((function(e){return e.event})),disabled:l})},e.prototype.setScrollPosition=function(e){this.initScrollPosition=e},e.ctorParameters=function(){return[{type:r},{type:t.ElementRef}]},o([t.ViewChild("weekSlider",{static:!0})],e.prototype,"slider",void 0),o([t.HostBinding("class.weekview")],e.prototype,"class",void 0),o([t.Input()],e.prototype,"weekviewHeaderTemplate",void 0),o([t.Input()],e.prototype,"weekviewAllDayEventTemplate",void 0),o([t.Input()],e.prototype,"weekviewNormalEventTemplate",void 0),o([t.Input()],e.prototype,"weekviewAllDayEventSectionTemplate",void 0),o([t.Input()],e.prototype,"weekviewNormalEventSectionTemplate",void 0),o([t.Input()],e.prototype,"weekviewInactiveAllDayEventSectionTemplate",void 0),o([t.Input()],e.prototype,"weekviewInactiveNormalEventSectionTemplate",void 0),o([t.Input()],e.prototype,"formatWeekTitle",void 0),o([t.Input()],e.prototype,"formatWeekViewDayHeader",void 0),o([t.Input()],e.prototype,"formatHourColumn",void 0),o([t.Input()],e.prototype,"startingDayWeek",void 0),o([t.Input()],e.prototype,"allDayLabel",void 0),o([t.Input()],e.prototype,"hourParts",void 0),o([t.Input()],e.prototype,"eventSource",void 0),o([t.Input()],e.prototype,"autoSelect",void 0),o([t.Input()],e.prototype,"markDisabled",void 0),o([t.Input()],e.prototype,"locale",void 0),o([t.Input()],e.prototype,"dateFormatter",void 0),o([t.Input()],e.prototype,"dir",void 0),o([t.Input()],e.prototype,"scrollToHour",void 0),o([t.Input()],e.prototype,"preserveScrollPosition",void 0),o([t.Input()],e.prototype,"lockSwipeToPrev",void 0),o([t.Input()],e.prototype,"lockSwipes",void 0),o([t.Input()],e.prototype,"startHour",void 0),o([t.Input()],e.prototype,"endHour",void 0),o([t.Input()],e.prototype,"sliderOptions",void 0),o([t.Input()],e.prototype,"hourSegments",void 0),o([t.Output()],e.prototype,"onRangeChanged",void 0),o([t.Output()],e.prototype,"onEventSelected",void 0),o([t.Output()],e.prototype,"onTimeSelected",void 0),o([t.Output()],e.prototype,"onTitleChanged",void 0),e=a=o([t.Component({selector:"weekview",template:'\n        <ion-slides #weekSlider [options]="sliderOptions" [dir]="dir" (ionSlideDidChange)="onSlideChanged()"\n                    class="slides-container">\n            <ion-slide class="slide-container">\n                <table class="table table-bordered table-fixed weekview-header">\n                    <thead>\n                    <tr>\n                        <th class="calendar-hour-column"></th>\n                        <th class="weekview-header text-center" *ngFor="let date of views[0].dates"\n                            [ngClass]="getHighlightClass(date)"\n                            (click)="daySelected(date)">\n                            <ng-template [ngTemplateOutlet]="weekviewHeaderTemplate"\n                                         [ngTemplateOutletContext]="{viewDate:date}">\n                            </ng-template>\n                        </th>\n                    </tr>\n                    </thead>\n                </table>\n                <div *ngIf="0===currentViewIndex">\n                    <div class="weekview-allday-table">\n                        <div class="weekview-allday-label">{{allDayLabel}}</div>\n                        <div class="weekview-allday-content-wrapper scroll-content">\n                            <table class="table table-fixed weekview-allday-content-table">\n                                <tbody>\n                                <tr>\n                                    <td *ngFor="let day of views[0].dates" class="calendar-cell">\n                                        <ng-template [ngTemplateOutlet]="weekviewAllDayEventSectionTemplate"\n                                                     [ngTemplateOutletContext]="{day:day, eventTemplate:weekviewAllDayEventTemplate}">\n                                        </ng-template>\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                    <init-position-scroll class="weekview-normal-event-container" [initPosition]="initScrollPosition"\n                                          [emitEvent]="preserveScrollPosition" (onScroll)="setScrollPosition($event)">\n                        <table class="table table-bordered table-fixed weekview-normal-event-table">\n                            <tbody>\n                            <tr *ngFor="let row of views[0].rows; let i = index">\n                                <td class="calendar-hour-column text-center">\n                                    {{hourColumnLabels[i]}}\n                                </td>\n                                <td *ngFor="let tm of row" class="calendar-cell" tappable\n                                    (click)="select(tm.time, tm.events)">\n                                    <ng-template [ngTemplateOutlet]="weekviewNormalEventSectionTemplate"\n                                                 [ngTemplateOutletContext]="{tm:tm, hourParts: hourParts, eventTemplate:weekviewNormalEventTemplate}">\n                                    </ng-template>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </init-position-scroll>\n                </div>\n                <div *ngIf="0!==currentViewIndex">\n                    <div class="weekview-allday-table">\n                        <div class="weekview-allday-label">{{allDayLabel}}</div>\n                        <div class="weekview-allday-content-wrapper scroll-content">\n                            <table class="table table-fixed weekview-allday-content-table">\n                                <tbody>\n                                <tr>\n                                    <td *ngFor="let day of views[0].dates" class="calendar-cell">\n                                        <ng-template [ngTemplateOutlet]="weekviewInactiveAllDayEventSectionTemplate"\n                                                     [ngTemplateOutletContext]="{day:day}">\n                                        </ng-template>\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                    <init-position-scroll class="weekview-normal-event-container" [initPosition]="initScrollPosition">\n                        <table class="table table-bordered table-fixed weekview-normal-event-table">\n                            <tbody>\n                            <tr *ngFor="let row of views[0].rows; let i = index">\n                                <td class="calendar-hour-column text-center">\n                                    {{hourColumnLabels[i]}}\n                                </td>\n                                <td *ngFor="let tm of row" class="calendar-cell">\n                                    <ng-template [ngTemplateOutlet]="weekviewInactiveNormalEventSectionTemplate"\n                                                 [ngTemplateOutletContext]="{tm:tm, hourParts: hourParts}">\n                                    </ng-template>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </init-position-scroll>\n                </div>\n            </ion-slide>\n            <ion-slide class="slide-container">\n                <table class="table table-bordered table-fixed weekview-header">\n                    <thead>\n                    <tr>\n                        <th class="calendar-hour-column"></th>\n                        <th class="weekview-header text-center" *ngFor="let date of views[1].dates"\n                            [ngClass]="getHighlightClass(date)"\n                            (click)="daySelected(date)">\n                            <ng-template [ngTemplateOutlet]="weekviewHeaderTemplate"\n                                         [ngTemplateOutletContext]="{viewDate:date}">\n                            </ng-template>\n                        </th>\n                    </tr>\n                    </thead>\n                </table>\n                <div *ngIf="1===currentViewIndex">\n                    <div class="weekview-allday-table">\n                        <div class="weekview-allday-label">{{allDayLabel}}</div>\n                        <div class="weekview-allday-content-wrapper scroll-content">\n                            <table class="table table-fixed weekview-allday-content-table">\n                                <tbody>\n                                <tr>\n                                    <td *ngFor="let day of views[1].dates" class="calendar-cell">\n                                        <ng-template [ngTemplateOutlet]="weekviewAllDayEventSectionTemplate"\n                                                     [ngTemplateOutletContext]="{day:day, eventTemplate:weekviewAllDayEventTemplate}">\n                                        </ng-template>\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                    <init-position-scroll class="weekview-normal-event-container" [initPosition]="initScrollPosition"\n                                          [emitEvent]="preserveScrollPosition" (onScroll)="setScrollPosition($event)">\n                        <table class="table table-bordered table-fixed weekview-normal-event-table">\n                            <tbody>\n                            <tr *ngFor="let row of views[1].rows; let i = index">\n                                <td class="calendar-hour-column text-center">\n                                    {{hourColumnLabels[i]}}\n                                </td>\n                                <td *ngFor="let tm of row" class="calendar-cell" tappable\n                                    (click)="select(tm.time, tm.events)">\n                                    <div [ngClass]="{\'calendar-event-wrap\': tm.events}" *ngIf="tm.events">\n                                        <ng-template [ngTemplateOutlet]="weekviewNormalEventSectionTemplate"\n                                                     [ngTemplateOutletContext]="{tm:tm, hourParts: hourParts, eventTemplate:weekviewNormalEventTemplate}">\n                                        </ng-template>\n                                    </div>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </init-position-scroll>\n                </div>\n                <div *ngIf="1!==currentViewIndex">\n                    <div class="weekview-allday-table">\n                        <div class="weekview-allday-label">{{allDayLabel}}</div>\n                        <div class="weekview-allday-content-wrapper scroll-content">\n                            <table class="table table-fixed weekview-allday-content-table">\n                                <tbody>\n                                <tr>\n                                    <td *ngFor="let day of views[1].dates" class="calendar-cell">\n                                        <ng-template [ngTemplateOutlet]="weekviewInactiveAllDayEventSectionTemplate"\n                                                     [ngTemplateOutletContext]="{day:day}">\n                                        </ng-template>\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                    <init-position-scroll class="weekview-normal-event-container" [initPosition]="initScrollPosition">\n                        <table class="table table-bordered table-fixed weekview-normal-event-table">\n                            <tbody>\n                            <tr *ngFor="let row of views[1].rows; let i = index">\n                                <td class="calendar-hour-column text-center">\n                                    {{hourColumnLabels[i]}}\n                                </td>\n                                <td *ngFor="let tm of row" class="calendar-cell">\n                                    <div [ngClass]="{\'calendar-event-wrap\': tm.events}" *ngIf="tm.events">\n                                        <ng-template [ngTemplateOutlet]="weekviewInactiveNormalEventSectionTemplate"\n                                                     [ngTemplateOutletContext]="{tm:tm, hourParts: hourParts}">\n                                        </ng-template>\n                                    </div>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </init-position-scroll>\n                </div>\n            </ion-slide>\n            <ion-slide class="slide-container">\n                <table class="table table-bordered table-fixed weekview-header">\n                    <thead>\n                    <tr>\n                        <th class="calendar-hour-column"></th>\n                        <th class="weekview-header text-center" *ngFor="let date of views[2].dates"\n                            [ngClass]="getHighlightClass(date)"\n                            (click)="daySelected(date)">\n                            <ng-template [ngTemplateOutlet]="weekviewHeaderTemplate"\n                                         [ngTemplateOutletContext]="{viewDate:date}">\n                            </ng-template>\n                        </th>\n                    </tr>\n                    </thead>\n                </table>\n                <div *ngIf="2===currentViewIndex">\n                    <div class="weekview-allday-table">\n                        <div class="weekview-allday-label">{{allDayLabel}}</div>\n                        <div class="weekview-allday-content-wrapper scroll-content">\n                            <table class="table table-fixed weekview-allday-content-table">\n                                <tbody>\n                                <tr>\n                                    <td *ngFor="let day of views[2].dates" class="calendar-cell">\n                                        <ng-template [ngTemplateOutlet]="weekviewAllDayEventSectionTemplate"\n                                                     [ngTemplateOutletContext]="{day:day, eventTemplate:weekviewAllDayEventTemplate}">\n                                        </ng-template>\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                    <init-position-scroll class="weekview-normal-event-container" [initPosition]="initScrollPosition"\n                                          [emitEvent]="preserveScrollPosition" (onScroll)="setScrollPosition($event)">\n                        <table class="table table-bordered table-fixed weekview-normal-event-table">\n                            <tbody>\n                            <tr *ngFor="let row of views[2].rows; let i = index">\n                                <td class="calendar-hour-column text-center">\n                                    {{hourColumnLabels[i]}}\n                                </td>\n                                <td *ngFor="let tm of row" class="calendar-cell" tappable\n                                    (click)="select(tm.time, tm.events)">\n                                    <div [ngClass]="{\'calendar-event-wrap\': tm.events}" *ngIf="tm.events">\n                                        <ng-template [ngTemplateOutlet]="weekviewNormalEventSectionTemplate"\n                                                     [ngTemplateOutletContext]="{tm:tm, hourParts: hourParts, eventTemplate:weekviewNormalEventTemplate}">\n                                        </ng-template>\n                                    </div>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </init-position-scroll>\n                </div>\n                <div *ngIf="2!==currentViewIndex">\n                    <div class="weekview-allday-table">\n                        <div class="weekview-allday-label">{{allDayLabel}}</div>\n                        <div class="weekview-allday-content-wrapper scroll-content">\n                            <table class="table table-fixed weekview-allday-content-table">\n                                <tbody>\n                                <tr>\n                                    <td *ngFor="let day of views[2].dates" class="calendar-cell">\n                                        <ng-template [ngTemplateOutlet]="weekviewInactiveAllDayEventSectionTemplate"\n                                                     [ngTemplateOutletContext]="{day:day}">\n                                        </ng-template>\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                    <init-position-scroll class="weekview-normal-event-container" [initPosition]="initScrollPosition">\n                        <table class="table table-bordered table-fixed weekview-normal-event-table">\n                            <tbody>\n                            <tr *ngFor="let row of views[2].rows; let i = index">\n                                <td class="calendar-hour-column text-center">\n                                    {{hourColumnLabels[i]}}\n                                </td>\n                                <td *ngFor="let tm of row" class="calendar-cell">\n                                    <div [ngClass]="{\'calendar-event-wrap\': tm.events}" *ngIf="tm.events">\n                                        <ng-template [ngTemplateOutlet]="weekviewInactiveNormalEventSectionTemplate"\n                                                     [ngTemplateOutletContext]="{tm:tm, hourParts: hourParts}">\n                                        </ng-template>\n                                    </div>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </init-position-scroll>\n                </div>\n            </ion-slide>\n        </ion-slides>\n    ',encapsulation:t.ViewEncapsulation.None,styles:['\n        .table-fixed {\n            table-layout: fixed;\n        }\n\n        .table {\n            width: 100%;\n            max-width: 100%;\n            background-color: transparent;\n        }\n\n        .table > thead > tr > th, .table > tbody > tr > th, .table > tfoot > tr > th, .table > thead > tr > td,\n        .table > tbody > tr > td, .table > tfoot > tr > td {\n            padding: 8px;\n            line-height: 20px;\n            vertical-align: top;\n        }\n\n        .table > thead > tr > th {\n            vertical-align: bottom;\n            border-bottom: 2px solid #ddd;\n        }\n\n        .table > thead:first-child > tr:first-child > th, .table > thead:first-child > tr:first-child > td {\n            border-top: 0\n        }\n\n        .table > tbody + tbody {\n            border-top: 2px solid #ddd;\n        }\n\n        .table-bordered {\n            border: 1px solid #ddd;\n        }\n\n        .table-bordered > thead > tr > th, .table-bordered > tbody > tr > th, .table-bordered > tfoot > tr > th,\n        .table-bordered > thead > tr > td, .table-bordered > tbody > tr > td, .table-bordered > tfoot > tr > td {\n            border: 1px solid #ddd;\n        }\n\n        .table-bordered > thead > tr > th, .table-bordered > thead > tr > td {\n            border-bottom-width: 2px;\n        }\n\n        .table-striped > tbody > tr:nth-child(odd) > td, .table-striped > tbody > tr:nth-child(odd) > th {\n            background-color: #f9f9f9\n        }\n\n        .calendar-hour-column {\n            width: 50px;\n            white-space: nowrap;\n        }\n\n        .calendar-event-wrap {\n            position: relative;\n            width: 100%;\n            height: 100%;\n        }\n\n        .calendar-event {\n            position: absolute;\n            padding: 2px;\n            cursor: pointer;\n            z-index: 10000;\n        }\n\n        .calendar-cell {\n            padding: 0 !important;\n            height: 37px;\n        }\n\n        .slides-container {\n            height: 100%;\n        }\n\n        .slide-container {\n            display: block;\n        }\n\n        .weekview-allday-label {\n            float: left;\n            height: 100%;\n            line-height: 50px;\n            text-align: center;\n            width: 50px;\n            border-left: 1px solid #ddd;\n        }\n\n        [dir="rtl"] .weekview-allday-label {\n            float: right;\n            border-right: 1px solid #ddd;\n        }\n\n        .weekview-allday-content-wrapper {\n            margin-left: 50px;\n            overflow: hidden;\n            height: 51px;\n        }\n\n        [dir="rtl"] .weekview-allday-content-wrapper {\n            margin-left: 0;\n            margin-right: 50px;\n        }\n\n        .weekview-allday-content-table {\n            min-height: 50px;\n        }\n\n        .weekview-allday-content-table td {\n            border-left: 1px solid #ddd;\n            border-right: 1px solid #ddd;\n        }\n\n        .weekview-header th {\n            overflow: hidden;\n            white-space: nowrap;\n            font-size: 14px;\n        }\n\n        .weekview-allday-table {\n            height: 50px;\n            position: relative;\n            border-bottom: 1px solid #ddd;\n            font-size: 14px;\n        }\n\n        .weekview-normal-event-container {\n            margin-top: 87px;\n            overflow: hidden;\n            left: 0;\n            right: 0;\n            top: 0;\n            bottom: 0;\n            position: absolute;\n            font-size: 14px;\n        }\n\n        .scroll-content {\n            overflow-y: auto;\n            overflow-x: hidden;\n        }\n\n        ::-webkit-scrollbar,\n        *::-webkit-scrollbar {\n            display: none;\n        }\n\n        .table > tbody > tr > td.calendar-hour-column {\n            padding-left: 0;\n            padding-right: 0;\n            vertical-align: middle;\n        }\n\n        @media (max-width: 750px) {\n            .weekview-allday-label, .calendar-hour-column {\n                width: 31px;\n                font-size: 12px;\n            }\n\n            .weekview-allday-label {\n                padding-top: 4px;\n            }\n\n            .table > tbody > tr > td.calendar-hour-column {\n                padding-left: 0;\n                padding-right: 0;\n                vertical-align: middle;\n                line-height: 12px;\n            }\n\n            .table > thead > tr > th.weekview-header {\n                padding-left: 0;\n                padding-right: 0;\n                font-size: 12px;\n            }\n\n            .weekview-allday-label {\n                line-height: 20px;\n            }\n\n            .weekview-allday-content-wrapper {\n                margin-left: 31px;\n            }\n\n            [dir="rtl"] .weekview-allday-content-wrapper {\n                margin-left: 0;\n                margin-right: 31px;\n            }\n        }\n    ']})],e)}(),c=function(){function e(e,n){this.calendarService=e,this.elm=n,this.class=!0,this.dir="",this.scrollToHour=0,this.onRangeChanged=new t.EventEmitter,this.onEventSelected=new t.EventEmitter,this.onTimeSelected=new t.EventEmitter,this.onTitleChanged=new t.EventEmitter(!0),this.views=[],this.currentViewIndex=0,this.direction=0,this.mode="day",this.inited=!1,this.callbackOnInit=!0}var a;return a=e,e.createDateObjects=function(e,t,n,a){var i,o,l,r=[],s=e.getDate();a<1?(o=Math.floor(1/a),l=60):(o=1,l=Math.floor(60/a));for(var d=t;d<n;d+=o)for(var c=0;c<60;c+=l)(i=new Date(e.getTime())).setHours(0+d,c),i.setDate(s),r.push({time:i,events:[]});return r},e.compareEventByStartOffset=function(e,t){return e.startOffset-t.startOffset},e.calculateWidth=function(e,t,n){var a=t*n,i=new Array(a);e.sort((function(e,t){return t.position-e.position}));for(var o=0;o<a;o+=1)i[o]={calculated:!1,events:[]};for(var l=e.length,r=0;r<l;r+=1)for(var s=e[r],d=s.startIndex*n+s.startOffset;d<s.endIndex*n-s.endOffset;)i[d].events.push(s),d+=1;for(var c=0;c<l;){var p=e[c];if(!p.overlapNumber){var v=p.position+1;p.overlapNumber=v;for(var h=[p];p=h.shift();)for(d=p.startIndex*n+p.startOffset;d<p.endIndex*n-p.endOffset;){if(!i[d].calculated&&(i[d].calculated=!0,i[d].events))for(var u=i[d].events.length,m=0;m<u;m+=1){var g=i[d].events[m];g.overlapNumber||(g.overlapNumber=v,h.push(g))}d+=1}}c+=1}},e.prototype.ngOnInit=function(){var e=this;if(this.sliderOptions||(this.sliderOptions={}),this.sliderOptions.loop=!0,this.hourRange=(this.endHour-this.startHour)*this.hourSegments,this.dateFormatter&&this.dateFormatter.formatDayViewTitle)this.formatTitle=this.dateFormatter.formatDayViewTitle;else{var t=new n.DatePipe(this.locale);this.formatTitle=function(e){return t.transform(e,this.formatDayTitle)}}if(this.dateFormatter&&this.dateFormatter.formatDayViewHourColumn)this.formatHourColumnLabel=this.dateFormatter.formatDayViewHourColumn;else{var a=new n.DatePipe(this.locale);this.formatHourColumnLabel=function(e){return a.transform(e,this.formatHourColumn)}}this.lockSwipeToPrev&&this.slider.lockSwipeToPrev(!0),this.lockSwipes&&this.slider.lockSwipes(!0),this.refreshView(),this.hourColumnLabels=this.getHourColumnLabels(),this.inited=!0,this.currentDateChangedFromParentSubscription=this.calendarService.currentDateChangedFromParent$.subscribe((function(t){e.refreshView()})),this.eventSourceChangedSubscription=this.calendarService.eventSourceChanged$.subscribe((function(){e.onDataLoaded()})),this.slideChangedSubscription=this.calendarService.slideChanged$.subscribe((function(t){1===t?e.slider.slideNext():-1===t&&e.slider.slidePrev()})),this.slideUpdatedSubscription=this.calendarService.slideUpdated$.subscribe((function(){e.slider.update()}))},e.prototype.ngAfterViewInit=function(){var e=this.getTitle();if(this.onTitleChanged.emit(e),this.scrollToHour>0){var t=this.elm.nativeElement.querySelector(".dayview-normal-event-container").querySelectorAll(".calendar-hour-column"),n=this;setTimeout((function(){n.initScrollPosition=t[n.scrollToHour-n.startHour].offsetTop}),50)}},e.prototype.ngOnChanges=function(e){if(this.inited){var t=e.eventSource;t&&t.currentValue&&this.onDataLoaded();var n=e.lockSwipeToPrev;n&&this.slider.lockSwipeToPrev(n.currentValue);var a=e.lockSwipes;a&&this.slider.lockSwipes(a.currentValue)}},e.prototype.ngOnDestroy=function(){this.currentDateChangedFromParentSubscription&&(this.currentDateChangedFromParentSubscription.unsubscribe(),this.currentDateChangedFromParentSubscription=null),this.eventSourceChangedSubscription&&(this.eventSourceChangedSubscription.unsubscribe(),this.eventSourceChangedSubscription=null),this.slideChangedSubscription&&(this.slideChangedSubscription.unsubscribe(),this.slideChangedSubscription=null),this.slideUpdatedSubscription&&(this.slideUpdatedSubscription.unsubscribe(),this.slideUpdatedSubscription=null)},e.prototype.onSlideChanged=function(){var e=this;if(this.callbackOnInit)this.callbackOnInit=!1;else{var t=0,n=this.currentViewIndex;this.slider.getActiveIndex().then((function(a){a=(a+2)%3,isNaN(a)&&(a=n),a-n==1?t=1:0===a&&2===n?(t=1,e.slider.slideTo(1,0,!1)):n-a==1?t=-1:2===a&&0===n&&(t=-1,e.slider.slideTo(3,0,!1)),e.currentViewIndex=a,e.move(t)}))}},e.prototype.move=function(e){if(0!==e){this.direction=e;var t=this.calendarService.getAdjacentCalendarDate(this.mode,e);this.calendarService.setCurrentDate(t),this.refreshView(),this.direction=0}},e.prototype.getHourColumnLabels=function(){for(var e=[],t=0,n=this.views[0].rows.length;t<n;t+=1)if(0===t&&this.views[0].rows[t].time.getHours()!==this.startHour){var a=new Date(this.views[0].rows[t].time);a.setDate(a.getDate()+1),a.setHours(this.startHour),e.push(this.formatHourColumnLabel(a))}else e.push(this.formatHourColumnLabel(this.views[0].rows[t].time));return e},e.prototype.getViewData=function(e){return{rows:a.createDateObjects(e,this.startHour,this.endHour,this.hourSegments),allDayEvents:[]}},e.prototype.getRange=function(e){var t=e.getFullYear(),n=e.getMonth(),a=e.getDate();return{startTime:new Date(t,n,a,12,0,0),endTime:new Date(t,n,a+1,12,0,0)}},e.prototype.onDataLoaded=function(){for(var e=this.eventSource,t=e?e.length:0,n=this.range.startTime,i=this.range.endTime,o=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()),l=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()),r=this.currentViewIndex,s=this.views[r].rows,d=this.views[r].allDayEvents=[],c=this.startHour*this.hourSegments,p=this.endHour*this.hourSegments,v=!1,h=0;h<this.hourRange;h+=1)s[h].events=[];for(var u=0;u<t;u+=1){var m=e[u],g=m.startTime,w=m.endTime,y=void 0,b=void 0;if(m.allDay?(y=g.getTime(),b=w.getTime()):(y=Date.UTC(g.getFullYear(),g.getMonth(),g.getDate()),b=Date.UTC(w.getFullYear(),w.getMonth(),w.getDate()+1)),!(b<=o||y>=l||g>=w))if(m.allDay)d.push({event:m});else{v=!0;var f=void 0;f=y<o?0:(g.getHours()+g.getMinutes()/60)*this.hourSegments;var T=void 0;T=b>l?(l-o)/36e5*this.hourSegments:(w.getHours()+w.getMinutes()/60)*this.hourSegments;var S=Math.floor(f),D=Math.ceil(T-.016),x=0,E=0;if(1!==this.hourParts&&(x=S<c?0:Math.floor((f-S)*this.hourParts),E=D>p?0:Math.floor((D-T)*this.hourParts)),S<c?S=0:S-=c,D>p&&(D=p),S<(D-=c)){var C={event:m,startIndex:S,endIndex:D,startOffset:x,endOffset:E},I=s[S].events;I?I.push(C):((I=[]).push(C),s[S].events=I)}}}if(v){var k=[];for(h=0;h<this.hourRange;h+=1)s[h].events&&(s[h].events.sort(a.compareEventByStartOffset),k=k.concat(s[h].events));k.length>0&&this.placeEvents(k)}},e.prototype.refreshView=function(){if(this.range=this.getRange(this.calendarService.currentDate),this.inited){var e=this.getTitle();this.onTitleChanged.emit(e)}this.calendarService.populateAdjacentViews(this),this.calendarService.rangeChanged(this)},e.prototype.getTitle=function(){var e=new Date(this.range.startTime.getTime());return e.setHours(12,0,0,0),this.formatTitle(e)},e.prototype.select=function(e,t){var n=!1;this.markDisabled&&(n=this.markDisabled(e)),this.onTimeSelected.emit({selectedTime:e,events:t.map((function(e){return e.event})),disabled:n})},e.prototype.placeEvents=function(e){this.calculatePosition(e),a.calculateWidth(e,this.hourRange,this.hourParts)},e.prototype.placeAllDayEvents=function(e){this.calculatePosition(e)},e.prototype.overlap=function(e,t){var n=e,a=t;return(e.startIndex>t.startIndex||e.startIndex===t.startIndex&&e.startOffset>t.startOffset)&&(n=t,a=e),!(n.endIndex<=a.startIndex)&&!(n.endIndex-a.startIndex==1&&n.endOffset+a.startOffset>=this.hourParts)},e.prototype.calculatePosition=function(e){for(var t,n=e.length,a=new Array(n),i=0,o=0;o<n;o+=1){for(t=0;t<i;t+=1)a[t]=!1;for(var l=0;l<o;l+=1)this.overlap(e[o],e[l])&&(a[e[l].position]=!0);for(t=0;t<i&&a[t];t+=1);e[o].position=t<i?t:i++}if("rtl"===this.dir)for(o=0;o<n;o+=1)e[o].position=i-1-e[o].position},e.prototype.eventSelected=function(e){this.onEventSelected.emit(e)},e.prototype.setScrollPosition=function(e){this.initScrollPosition=e},e.ctorParameters=function(){return[{type:r},{type:t.ElementRef}]},o([t.ViewChild("daySlider",{static:!0})],e.prototype,"slider",void 0),o([t.HostBinding("class.dayview")],e.prototype,"class",void 0),o([t.Input()],e.prototype,"dayviewAllDayEventTemplate",void 0),o([t.Input()],e.prototype,"dayviewNormalEventTemplate",void 0),o([t.Input()],e.prototype,"dayviewAllDayEventSectionTemplate",void 0),o([t.Input()],e.prototype,"dayviewNormalEventSectionTemplate",void 0),o([t.Input()],e.prototype,"dayviewInactiveAllDayEventSectionTemplate",void 0),o([t.Input()],e.prototype,"dayviewInactiveNormalEventSectionTemplate",void 0),o([t.Input()],e.prototype,"formatHourColumn",void 0),o([t.Input()],e.prototype,"formatDayTitle",void 0),o([t.Input()],e.prototype,"allDayLabel",void 0),o([t.Input()],e.prototype,"hourParts",void 0),o([t.Input()],e.prototype,"eventSource",void 0),o([t.Input()],e.prototype,"markDisabled",void 0),o([t.Input()],e.prototype,"locale",void 0),o([t.Input()],e.prototype,"dateFormatter",void 0),o([t.Input()],e.prototype,"dir",void 0),o([t.Input()],e.prototype,"scrollToHour",void 0),o([t.Input()],e.prototype,"preserveScrollPosition",void 0),o([t.Input()],e.prototype,"lockSwipeToPrev",void 0),o([t.Input()],e.prototype,"lockSwipes",void 0),o([t.Input()],e.prototype,"startHour",void 0),o([t.Input()],e.prototype,"endHour",void 0),o([t.Input()],e.prototype,"sliderOptions",void 0),o([t.Input()],e.prototype,"hourSegments",void 0),o([t.Output()],e.prototype,"onRangeChanged",void 0),o([t.Output()],e.prototype,"onEventSelected",void 0),o([t.Output()],e.prototype,"onTimeSelected",void 0),o([t.Output()],e.prototype,"onTitleChanged",void 0),e=a=o([t.Component({selector:"dayview",template:'\n        <ion-slides #daySlider [options]="sliderOptions" [dir]="dir" (ionSlideDidChange)="onSlideChanged()" class="slides-container">\n            <ion-slide class="slide-container">\n                <div class="dayview-allday-table">\n                    <div class="dayview-allday-label">{{allDayLabel}}</div>\n                    <div class="dayview-allday-content-wrapper scroll-content">\n                        <table class="table table-bordered dayview-allday-content-table">\n                            <tbody>\n                            <tr>\n                                <td class="calendar-cell" [ngClass]="{\'calendar-event-wrap\':views[0].allDayEvents.length>0}"\n                                    [ngStyle]="{height: 25*views[0].allDayEvents.length+\'px\'}"\n                                    *ngIf="0===currentViewIndex">\n                                    <ng-template [ngTemplateOutlet]="dayviewAllDayEventSectionTemplate"\n                                                 [ngTemplateOutletContext]="{allDayEvents:views[0].allDayEvents,eventTemplate:dayviewAllDayEventTemplate}">\n                                    </ng-template>\n                                </td>\n                                <td class="calendar-cell" *ngIf="0!==currentViewIndex">\n                                    <ng-template [ngTemplateOutlet]="dayviewInactiveAllDayEventSectionTemplate"\n                                                 [ngTemplateOutletContext]="{allDayEvents:views[0].allDayEvents}">\n                                    </ng-template>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <init-position-scroll *ngIf="0===currentViewIndex" class="dayview-normal-event-container"\n                                      [initPosition]="initScrollPosition" [emitEvent]="preserveScrollPosition"\n                                      (onScroll)="setScrollPosition($event)">\n                    <table class="table table-bordered table-fixed dayview-normal-event-table">\n                        <tbody>\n                        <tr *ngFor="let tm of views[0].rows; let i = index">\n                            <td class="calendar-hour-column text-center">\n                                {{hourColumnLabels[i]}}\n                            </td>\n                            <td class="calendar-cell" tappable (click)="select(tm.time, tm.events)">\n                                <ng-template [ngTemplateOutlet]="dayviewNormalEventSectionTemplate"\n                                             [ngTemplateOutletContext]="{tm:tm, hourParts: hourParts, eventTemplate:dayviewNormalEventTemplate}">\n                                </ng-template>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </init-position-scroll>\n                <init-position-scroll *ngIf="0!==currentViewIndex" class="dayview-normal-event-container"\n                                      [initPosition]="initScrollPosition">\n                    <table class="table table-bordered table-fixed dayview-normal-event-table">\n                        <tbody>\n                        <tr *ngFor="let tm of views[0].rows; let i = index">\n                            <td class="calendar-hour-column text-center">\n                                {{hourColumnLabels[i]}}\n                            </td>\n                            <td class="calendar-cell">\n                                <ng-template [ngTemplateOutlet]="dayviewInactiveNormalEventSectionTemplate"\n                                             [ngTemplateOutletContext]="{tm:tm, hourParts: hourParts}">\n                                </ng-template>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </init-position-scroll>\n            </ion-slide>\n            <ion-slide class="slide-container">\n                <div class="dayview-allday-table">\n                    <div class="dayview-allday-label">{{allDayLabel}}</div>\n                    <div class="dayview-allday-content-wrapper scroll-content">\n                        <table class="table table-bordered dayview-allday-content-table">\n                            <tbody>\n                            <tr>\n                                <td class="calendar-cell" [ngClass]="{\'calendar-event-wrap\':views[1].allDayEvents.length>0}"\n                                    [ngStyle]="{height: 25*views[1].allDayEvents.length+\'px\'}"\n                                    *ngIf="1===currentViewIndex">\n                                    <ng-template [ngTemplateOutlet]="dayviewAllDayEventSectionTemplate"\n                                                 [ngTemplateOutletContext]="{allDayEvents:views[1].allDayEvents,eventTemplate:dayviewAllDayEventTemplate}">\n                                    </ng-template>\n                                </td>\n                                <td class="calendar-cell" *ngIf="1!==currentViewIndex">\n                                    <ng-template [ngTemplateOutlet]="dayviewInactiveAllDayEventSectionTemplate"\n                                                 [ngTemplateOutletContext]="{allDayEvents:views[1].allDayEvents}">\n                                    </ng-template>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <init-position-scroll *ngIf="1===currentViewIndex" class="dayview-normal-event-container"\n                                      [initPosition]="initScrollPosition" [emitEvent]="preserveScrollPosition"\n                                      (onScroll)="setScrollPosition($event)">\n                    <table class="table table-bordered table-fixed dayview-normal-event-table">\n                        <tbody>\n                        <tr *ngFor="let tm of views[1].rows; let i = index">\n                            <td class="calendar-hour-column text-center">\n                                {{hourColumnLabels[i]}}\n                            </td>\n                            <td class="calendar-cell" tappable (click)="select(tm.time, tm.events)">\n                                <ng-template [ngTemplateOutlet]="dayviewNormalEventSectionTemplate"\n                                             [ngTemplateOutletContext]="{tm:tm, hourParts: hourParts, eventTemplate:dayviewNormalEventTemplate}">\n                                </ng-template>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </init-position-scroll>\n                <init-position-scroll *ngIf="1!==currentViewIndex" class="dayview-normal-event-container"\n                                      [initPosition]="initScrollPosition">\n                    <table class="table table-bordered table-fixed dayview-normal-event-table">\n                        <tbody>\n                        <tr *ngFor="let tm of views[1].rows; let i = index">\n                            <td class="calendar-hour-column text-center">\n                                {{hourColumnLabels[i]}}\n                            </td>\n                            <td class="calendar-cell">\n                                <ng-template [ngTemplateOutlet]="dayviewInactiveNormalEventSectionTemplate"\n                                             [ngTemplateOutletContext]="{tm:tm, hourParts: hourParts}">\n                                </ng-template>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </init-position-scroll>\n            </ion-slide>\n            <ion-slide class="slide-container">\n                <div class="dayview-allday-table">\n                    <div class="dayview-allday-label">{{allDayLabel}}</div>\n                    <div class="dayview-allday-content-wrapper scroll-content">\n                        <table class="table table-bordered dayview-allday-content-table">\n                            <tbody>\n                            <tr>\n                                <td class="calendar-cell" [ngClass]="{\'calendar-event-wrap\':views[2].allDayEvents.length>0}"\n                                    [ngStyle]="{height: 25*views[2].allDayEvents.length+\'px\'}"\n                                    *ngIf="2===currentViewIndex">\n                                    <ng-template [ngTemplateOutlet]="dayviewAllDayEventSectionTemplate"\n                                                 [ngTemplateOutletContext]="{allDayEvents:views[2].allDayEvents,eventTemplate:dayviewAllDayEventTemplate}">\n                                    </ng-template>\n                                </td>\n                                <td class="calendar-cell" *ngIf="2!==currentViewIndex">\n                                    <ng-template [ngTemplateOutlet]="dayviewInactiveAllDayEventSectionTemplate"\n                                                 [ngTemplateOutletContext]="{allDayEvents:views[2].allDayEvents}">\n                                    </ng-template>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n                <init-position-scroll *ngIf="2===currentViewIndex" class="dayview-normal-event-container"\n                                      [initPosition]="initScrollPosition" [emitEvent]="preserveScrollPosition"\n                                      (onScroll)="setScrollPosition($event)">\n                    <table class="table table-bordered table-fixed dayview-normal-event-table">\n                        <tbody>\n                        <tr *ngFor="let tm of views[2].rows; let i = index">\n                            <td class="calendar-hour-column text-center">\n                                {{hourColumnLabels[i]}}\n                            </td>\n                            <td class="calendar-cell" tappable (click)="select(tm.time, tm.events)">\n                                <ng-template [ngTemplateOutlet]="dayviewNormalEventSectionTemplate"\n                                             [ngTemplateOutletContext]="{tm:tm, hourParts: hourParts, eventTemplate:dayviewNormalEventTemplate}">\n                                </ng-template>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </init-position-scroll>\n                <init-position-scroll *ngIf="2!==currentViewIndex" class="dayview-normal-event-container"\n                                      [initPosition]="initScrollPosition">\n                    <table class="table table-bordered table-fixed dayview-normal-event-table">\n                        <tbody>\n                        <tr *ngFor="let tm of views[2].rows; let i = index">\n                            <td class="calendar-hour-column text-center">\n                                {{hourColumnLabels[i]}}\n                            </td>\n                            <td class="calendar-cell">\n                                <ng-template [ngTemplateOutlet]="dayviewInactiveNormalEventSectionTemplate"\n                                             [ngTemplateOutletContext]="{tm:tm, hourParts: hourParts}">\n                                </ng-template>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </init-position-scroll>\n            </ion-slide>\n        </ion-slides>\n    ',encapsulation:t.ViewEncapsulation.None,styles:['\n        .table-fixed {\n            table-layout: fixed;\n        }\n\n        .table {\n            width: 100%;\n            max-width: 100%;\n            background-color: transparent;\n        }\n\n        .table > thead > tr > th, .table > tbody > tr > th, .table > tfoot > tr > th, .table > thead > tr > td,\n        .table > tbody > tr > td, .table > tfoot > tr > td {\n            padding: 8px;\n            line-height: 20px;\n            vertical-align: top;\n        }\n\n        .table > thead > tr > th {\n            vertical-align: bottom;\n            border-bottom: 2px solid #ddd;\n        }\n\n        .table > thead:first-child > tr:first-child > th, .table > thead:first-child > tr:first-child > td {\n            border-top: 0\n        }\n\n        .table > tbody + tbody {\n            border-top: 2px solid #ddd;\n        }\n\n        .table-bordered {\n            border: 1px solid #ddd;\n        }\n\n        .table-bordered > thead > tr > th, .table-bordered > tbody > tr > th, .table-bordered > tfoot > tr > th,\n        .table-bordered > thead > tr > td, .table-bordered > tbody > tr > td, .table-bordered > tfoot > tr > td {\n            border: 1px solid #ddd;\n        }\n\n        .table-bordered > thead > tr > th, .table-bordered > thead > tr > td {\n            border-bottom-width: 2px;\n        }\n\n        .table-striped > tbody > tr:nth-child(odd) > td, .table-striped > tbody > tr:nth-child(odd) > th {\n            background-color: #f9f9f9\n        }\n\n        .calendar-hour-column {\n            width: 50px;\n            white-space: nowrap;\n        }\n\n        .calendar-event-wrap {\n            position: relative;\n            width: 100%;\n            height: 100%;\n        }\n\n        .calendar-event {\n            position: absolute;\n            padding: 2px;\n            cursor: pointer;\n            z-index: 10000;\n        }\n\n        .slides-container {\n            height: 100%;\n        }\n\n        .slide-container {\n            display: block;\n        }\n\n        .calendar-cell {\n            padding: 0 !important;\n            height: 37px;\n        }\n\n        .dayview-allday-label {\n            float: left;\n            height: 100%;\n            line-height: 50px;\n            text-align: center;\n            width: 50px;\n            border-left: 1px solid #ddd;\n        }\n\n        [dir="rtl"] .dayview-allday-label {\n            border-right: 1px solid #ddd;\n            float: right;\n        }\n\n        .dayview-allday-content-wrapper {\n            margin-left: 50px;\n            overflow: hidden;\n            height: 51px;\n        }\n\n        [dir="rtl"] .dayview-allday-content-wrapper {\n            margin-left: 0;\n            margin-right: 50px;\n        }\n\n        .dayview-allday-content-table {\n            min-height: 50px;\n        }\n\n        .dayview-allday-content-table td {\n            border-left: 1px solid #ddd;\n            border-right: 1px solid #ddd;\n        }\n\n        .dayview-allday-table {\n            height: 50px;\n            position: relative;\n            border-bottom: 1px solid #ddd;\n            font-size: 14px;\n        }\n\n        .dayview-normal-event-container {\n            margin-top: 50px;\n            overflow: hidden;\n            left: 0;\n            right: 0;\n            top: 0;\n            bottom: 0;\n            position: absolute;\n            font-size: 14px;\n        }\n\n        .scroll-content {\n            overflow-y: auto;\n            overflow-x: hidden;\n        }\n\n        ::-webkit-scrollbar,\n        *::-webkit-scrollbar {\n            display: none;\n        }\n\n        .table > tbody > tr > td.calendar-hour-column {\n            padding-left: 0;\n            padding-right: 0;\n            vertical-align: middle;\n        }\n\n        @media (max-width: 750px) {\n            .dayview-allday-label, .calendar-hour-column {\n                width: 31px;\n                font-size: 12px;\n            }\n\n            .dayview-allday-label {\n                padding-top: 4px;\n            }\n\n            .table > tbody > tr > td.calendar-hour-column {\n                padding-left: 0;\n                padding-right: 0;\n                vertical-align: middle;\n                line-height: 12px;\n            }\n\n            .dayview-allday-label {\n                line-height: 20px;\n            }\n\n            .dayview-allday-content-wrapper {\n                margin-left: 31px;\n            }\n\n            [dir="rtl"] .dayview-allday-content-wrapper {\n                margin-left: 0;\n                margin-right: 31px;\n            }\n        }\n    ']})],e)}();!function(e){e[e.QuarterHour=15]="QuarterHour",e[e.HalfHour=30]="HalfHour",e[e.Hour=60]="Hour"}(l||(l={}));var p=function(){function e(e,n){this.calendarService=e,this.appLocale=n,this.eventSource=[],this.calendarMode="month",this.formatDay="d",this.formatDayHeader="EEE",this.formatDayTitle="MMMM dd, yyyy",this.formatWeekTitle="MMMM yyyy, 'Week' w",this.formatMonthTitle="MMMM yyyy",this.formatWeekViewDayHeader="EEE d",this.formatHourColumn="ha",this.showEventDetail=!0,this.startingDayMonth=0,this.startingDayWeek=0,this.allDayLabel="all day",this.noEventsLabel="No Events",this.queryMode="local",this.step=l.Hour,this.timeInterval=60,this.autoSelect=!0,this.dir="",this.scrollToHour=0,this.preserveScrollPosition=!1,this.lockSwipeToPrev=!1,this.lockSwipes=!1,this.locale="",this.startHour=0,this.endHour=24,this.onCurrentDateChanged=new t.EventEmitter,this.onRangeChanged=new t.EventEmitter,this.onEventSelected=new t.EventEmitter,this.onTimeSelected=new t.EventEmitter,this.onTitleChanged=new t.EventEmitter,this.hourParts=1,this.hourSegments=1,this.locale=n}var n,a;return Object.defineProperty(e.prototype,"currentDate",{get:function(){return this._currentDate},set:function(e){e||(e=new Date),this._currentDate=e,this.calendarService.setCurrentDate(e,!0),this.onCurrentDateChanged.emit(this._currentDate)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.autoSelect&&("false"===this.autoSelect.toString()?this.autoSelect=!1:this.autoSelect=!0),this.hourSegments=60/this.timeInterval,this.hourParts=60/this.step,this.hourParts<=this.hourSegments?this.hourParts=1:this.hourParts=this.hourParts/this.hourSegments,this.startHour=parseInt(this.startHour.toString()),this.endHour=parseInt(this.endHour.toString()),this.calendarService.queryMode=this.queryMode,this.currentDateChangedFromChildrenSubscription=this.calendarService.currentDateChangedFromChildren$.subscribe((function(t){e._currentDate=t,e.onCurrentDateChanged.emit(t)}))},e.prototype.ngOnDestroy=function(){this.currentDateChangedFromChildrenSubscription&&(this.currentDateChangedFromChildrenSubscription.unsubscribe(),this.currentDateChangedFromChildrenSubscription=null)},e.prototype.rangeChanged=function(e){this.onRangeChanged.emit(e)},e.prototype.eventSelected=function(e){this.onEventSelected.emit(e)},e.prototype.timeSelected=function(e){this.onTimeSelected.emit(e)},e.prototype.titleChanged=function(e){this.onTitleChanged.emit(e)},e.prototype.loadEvents=function(){this.calendarService.loadEvents()},e.prototype.slideNext=function(){this.calendarService.slide(1)},e.prototype.slidePrev=function(){this.calendarService.slide(-1)},e.prototype.update=function(){this.calendarService.update()},e.ctorParameters=function(){return[{type:r},{type:String,decorators:[{type:t.Inject,args:[t.LOCALE_ID]}]}]},o([t.Input()],e.prototype,"currentDate",null),o([t.Input()],e.prototype,"eventSource",void 0),o([t.Input()],e.prototype,"calendarMode",void 0),o([t.Input()],e.prototype,"formatDay",void 0),o([t.Input()],e.prototype,"formatDayHeader",void 0),o([t.Input()],e.prototype,"formatDayTitle",void 0),o([t.Input()],e.prototype,"formatWeekTitle",void 0),o([t.Input()],e.prototype,"formatMonthTitle",void 0),o([t.Input()],e.prototype,"formatWeekViewDayHeader",void 0),o([t.Input()],e.prototype,"formatHourColumn",void 0),o([t.Input()],e.prototype,"showEventDetail",void 0),o([t.Input()],e.prototype,"startingDayMonth",void 0),o([t.Input()],e.prototype,"startingDayWeek",void 0),o([t.Input()],e.prototype,"allDayLabel",void 0),o([t.Input()],e.prototype,"noEventsLabel",void 0),o([t.Input()],e.prototype,"queryMode",void 0),o([t.Input()],e.prototype,"step",void 0),o([t.Input()],e.prototype,"timeInterval",void 0),o([t.Input()],e.prototype,"autoSelect",void 0),o([t.Input()],e.prototype,"markDisabled",void 0),o([t.Input()],e.prototype,"monthviewDisplayEventTemplate",void 0),o([t.Input()],e.prototype,"monthviewInactiveDisplayEventTemplate",void 0),o([t.Input()],e.prototype,"monthviewEventDetailTemplate",void 0),o([t.Input()],e.prototype,"weekviewHeaderTemplate",void 0),o([t.Input()],e.prototype,"weekviewAllDayEventTemplate",void 0),o([t.Input()],e.prototype,"weekviewNormalEventTemplate",void 0),o([t.Input()],e.prototype,"dayviewAllDayEventTemplate",void 0),o([t.Input()],e.prototype,"dayviewNormalEventTemplate",void 0),o([t.Input()],e.prototype,"weekviewAllDayEventSectionTemplate",void 0),o([t.Input()],e.prototype,"weekviewNormalEventSectionTemplate",void 0),o([t.Input()],e.prototype,"dayviewAllDayEventSectionTemplate",void 0),o([t.Input()],e.prototype,"dayviewNormalEventSectionTemplate",void 0),o([t.Input()],e.prototype,"weekviewInactiveAllDayEventSectionTemplate",void 0),o([t.Input()],e.prototype,"weekviewInactiveNormalEventSectionTemplate",void 0),o([t.Input()],e.prototype,"dayviewInactiveAllDayEventSectionTemplate",void 0),o([t.Input()],e.prototype,"dayviewInactiveNormalEventSectionTemplate",void 0),o([t.Input()],e.prototype,"dateFormatter",void 0),o([t.Input()],e.prototype,"dir",void 0),o([t.Input()],e.prototype,"scrollToHour",void 0),o([t.Input()],e.prototype,"preserveScrollPosition",void 0),o([t.Input()],e.prototype,"lockSwipeToPrev",void 0),o([t.Input()],e.prototype,"lockSwipes",void 0),o([t.Input()],e.prototype,"locale",void 0),o([t.Input()],e.prototype,"startHour",void 0),o([t.Input()],e.prototype,"endHour",void 0),o([t.Input()],e.prototype,"sliderOptions",void 0),o([t.Output()],e.prototype,"onCurrentDateChanged",void 0),o([t.Output()],e.prototype,"onRangeChanged",void 0),o([t.Output()],e.prototype,"onEventSelected",void 0),o([t.Output()],e.prototype,"onTimeSelected",void 0),o([t.Output()],e.prototype,"onTitleChanged",void 0),e=o([t.Component({selector:"calendar",template:'\n        <ng-template #monthviewDefaultDisplayEventTemplate let-view="view" let-row="row" let-col="col">\n            {{view.dates[row*7+col].label}}\n        </ng-template>\n        <ng-template #monthviewDefaultEventDetailTemplate let-showEventDetail="showEventDetail" let-selectedDate="selectedDate" let-noEventsLabel="noEventsLabel">\n            <ion-list class="event-detail-container" has-bouncing="false" *ngIf="showEventDetail" overflow-scroll="false">\n                <ion-item *ngFor="let event of selectedDate?.events" (click)="eventSelected(event)">\n                        <span *ngIf="!event.allDay" class="monthview-eventdetail-timecolumn">{{event.startTime|date: \'HH:mm\'}}\n                            -\n                            {{event.endTime|date: \'HH:mm\'}}\n                        </span>\n                    <span *ngIf="event.allDay" class="monthview-eventdetail-timecolumn">{{allDayLabel}}</span>\n                    <span class="event-detail">  |  {{event.title}}</span>\n                </ion-item>\n                <ion-item *ngIf="selectedDate?.events.length==0">\n                    <div class="no-events-label">{{noEventsLabel}}</div>\n                </ion-item>\n            </ion-list>\n        </ng-template>\n        <ng-template #defaultWeekviewHeaderTemplate let-viewDate="viewDate">\n            {{ viewDate.dayHeader }}\n        </ng-template>\n        <ng-template #defaultAllDayEventTemplate let-displayEvent="displayEvent">\n            <div class="calendar-event-inner">{{displayEvent.event.title}}</div>\n        </ng-template>\n        <ng-template #defaultNormalEventTemplate let-displayEvent="displayEvent">\n            <div class="calendar-event-inner">{{displayEvent.event.title}}</div>\n        </ng-template>\n        <ng-template #defaultWeekViewAllDayEventSectionTemplate let-day="day" let-eventTemplate="eventTemplate">\n            <div [ngClass]="{\'calendar-event-wrap\': day.events}" *ngIf="day.events"\n                 [ngStyle]="{height: 25*day.events.length+\'px\'}">\n                <div *ngFor="let displayEvent of day.events" class="calendar-event" tappable\n                     (click)="eventSelected(displayEvent.event)"\n                     [ngStyle]="{top: 25*displayEvent.position+\'px\', width: 100*(displayEvent.endIndex-displayEvent.startIndex)+\'%\', height: \'25px\'}">\n                    <ng-template [ngTemplateOutlet]="eventTemplate"\n                                 [ngTemplateOutletContext]="{displayEvent:displayEvent}">\n                    </ng-template>\n                </div>\n            </div>\n        </ng-template>\n        <ng-template #defaultDayViewAllDayEventSectionTemplate let-allDayEvents="allDayEvents" let-eventTemplate="eventTemplate">\n            <div *ngFor="let displayEvent of allDayEvents; let eventIndex=index"\n                 class="calendar-event" tappable\n                 (click)="eventSelected(displayEvent.event)"\n                 [ngStyle]="{top: 25*eventIndex+\'px\',width: \'100%\',height:\'25px\'}">\n                <ng-template [ngTemplateOutlet]="eventTemplate"\n                             [ngTemplateOutletContext]="{displayEvent:displayEvent}">\n                </ng-template>\n            </div>\n        </ng-template>\n        <ng-template #defaultNormalEventSectionTemplate let-tm="tm" let-hourParts="hourParts" let-eventTemplate="eventTemplate">\n            <div [ngClass]="{\'calendar-event-wrap\': tm.events}" *ngIf="tm.events">\n                <div *ngFor="let displayEvent of tm.events" class="calendar-event" tappable\n                     (click)="eventSelected(displayEvent.event)"\n                     [ngStyle]="{top: (37*displayEvent.startOffset/hourParts)+\'px\',left: 100/displayEvent.overlapNumber*displayEvent.position+\'%\', width: 100/displayEvent.overlapNumber+\'%\', height: 37*(displayEvent.endIndex -displayEvent.startIndex - (displayEvent.endOffset + displayEvent.startOffset)/hourParts)+\'px\'}">\n                    <ng-template [ngTemplateOutlet]="eventTemplate"\n                                 [ngTemplateOutletContext]="{displayEvent:displayEvent}">\n                    </ng-template>\n                </div>\n            </div>\n        </ng-template>\n        <ng-template #defaultInactiveAllDayEventSectionTemplate>\n        </ng-template>\n        <ng-template #defaultInactiveNormalEventSectionTemplate>\n        </ng-template>\n\n        <div [ngSwitch]="calendarMode" class="{{calendarMode}}view-container">\n            <monthview *ngSwitchCase="\'month\'"\n                [formatDay]="formatDay"\n                [formatDayHeader]="formatDayHeader"\n                [formatMonthTitle]="formatMonthTitle"\n                [startingDayMonth]="startingDayMonth"\n                [showEventDetail]="showEventDetail"\n                [noEventsLabel]="noEventsLabel"\n                [autoSelect]="autoSelect"\n                [eventSource]="eventSource"\n                [markDisabled]="markDisabled"\n                [monthviewDisplayEventTemplate]="monthviewDisplayEventTemplate||monthviewDefaultDisplayEventTemplate"\n                [monthviewInactiveDisplayEventTemplate]="monthviewInactiveDisplayEventTemplate||monthviewDefaultDisplayEventTemplate"\n                [monthviewEventDetailTemplate]="monthviewEventDetailTemplate||monthviewDefaultEventDetailTemplate"\n                [locale]="locale"\n                [dateFormatter]="dateFormatter"\n                [dir]="dir"\n                [lockSwipeToPrev]="lockSwipeToPrev"\n                [lockSwipes]="lockSwipes"\n                [sliderOptions]="sliderOptions"\n                (onRangeChanged)="rangeChanged($event)"\n                (onEventSelected)="eventSelected($event)"\n                (onTimeSelected)="timeSelected($event)"\n                (onTitleChanged)="titleChanged($event)">\n            </monthview>\n            <weekview *ngSwitchCase="\'week\'"\n                [formatWeekTitle]="formatWeekTitle"\n                [formatWeekViewDayHeader]="formatWeekViewDayHeader"\n                [formatHourColumn]="formatHourColumn"\n                [startingDayWeek]="startingDayWeek"\n                [allDayLabel]="allDayLabel"\n                [hourParts]="hourParts"\n                [autoSelect]="autoSelect"\n                [hourSegments]="hourSegments"\n                [eventSource]="eventSource"\n                [markDisabled]="markDisabled"\n                [weekviewHeaderTemplate]="weekviewHeaderTemplate||defaultWeekviewHeaderTemplate"\n                [weekviewAllDayEventTemplate]="weekviewAllDayEventTemplate||defaultAllDayEventTemplate"\n                [weekviewNormalEventTemplate]="weekviewNormalEventTemplate||defaultNormalEventTemplate"\n                [weekviewAllDayEventSectionTemplate]="weekviewAllDayEventSectionTemplate||defaultWeekViewAllDayEventSectionTemplate"\n                [weekviewNormalEventSectionTemplate]="weekviewNormalEventSectionTemplate||defaultNormalEventSectionTemplate"\n                [weekviewInactiveAllDayEventSectionTemplate]="weekviewInactiveAllDayEventSectionTemplate||defaultInactiveAllDayEventSectionTemplate"\n                [weekviewInactiveNormalEventSectionTemplate]="weekviewInactiveNormalEventSectionTemplate||defaultInactiveNormalEventSectionTemplate"\n                [locale]="locale"\n                [dateFormatter]="dateFormatter"\n                [dir]="dir"\n                [scrollToHour]="scrollToHour"\n                [preserveScrollPosition]="preserveScrollPosition"\n                [lockSwipeToPrev]="lockSwipeToPrev"\n                [lockSwipes]="lockSwipes"\n                [startHour]="startHour"\n                [endHour]="endHour"\n                [sliderOptions]="sliderOptions"\n                (onRangeChanged)="rangeChanged($event)"\n                (onEventSelected)="eventSelected($event)"\n                (onTimeSelected)="timeSelected($event)"\n                (onTitleChanged)="titleChanged($event)">\n            </weekview>\n            <dayview *ngSwitchCase="\'day\'"\n                [formatDayTitle]="formatDayTitle"\n                [formatHourColumn]="formatHourColumn"\n                [allDayLabel]="allDayLabel"\n                [hourParts]="hourParts"\n                [hourSegments]="hourSegments"\n                [eventSource]="eventSource"\n                [markDisabled]="markDisabled"\n                [dayviewAllDayEventTemplate]="dayviewAllDayEventTemplate||defaultAllDayEventTemplate"\n                [dayviewNormalEventTemplate]="dayviewNormalEventTemplate||defaultNormalEventTemplate"\n                [dayviewAllDayEventSectionTemplate]="dayviewAllDayEventSectionTemplate||defaultDayViewAllDayEventSectionTemplate"\n                [dayviewNormalEventSectionTemplate]="dayviewNormalEventSectionTemplate||defaultNormalEventSectionTemplate"\n                [dayviewInactiveAllDayEventSectionTemplate]="dayviewInactiveAllDayEventSectionTemplate||defaultInactiveAllDayEventSectionTemplate"\n                [dayviewInactiveNormalEventSectionTemplate]="dayviewInactiveNormalEventSectionTemplate||defaultInactiveNormalEventSectionTemplate"\n                [locale]="locale"\n                [dateFormatter]="dateFormatter"\n                [dir]="dir"\n                [scrollToHour]="scrollToHour"\n                [preserveScrollPosition]="preserveScrollPosition"\n                [lockSwipeToPrev]="lockSwipeToPrev"\n                [lockSwipes]="lockSwipes"\n                [startHour]="startHour"\n                [endHour]="endHour"\n                [sliderOptions]="sliderOptions"\n                (onRangeChanged)="rangeChanged($event)"\n                (onEventSelected)="eventSelected($event)"\n                (onTimeSelected)="timeSelected($event)"\n                (onTitleChanged)="titleChanged($event)">\n            </dayview>\n        </div>\n    ',providers:[r],styles:["\n        :host > div { height: 100%; }\n\n        .event-detail-container {\n          border-top: 2px darkgrey solid;\n        }\n\n        .no-events-label {\n          font-weight: bold;\n          color: darkgrey;\n          text-align: center;\n        }\n\n        .event-detail {\n          cursor: pointer;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n        }\n\n        .monthview-eventdetail-timecolumn {\n          width: 110px;\n          overflow: hidden;\n        }\n\n        .calendar-event-inner {\n          overflow: hidden;\n          background-color: #3a87ad;\n          color: white;\n          height: 100%;\n          width: 100%;\n          padding: 2px;\n          line-height: 15px;\n          text-align: initial;\n        }\n\n        @media (max-width: 750px) {\n          .calendar-event-inner {\n            font-size: 12px;\n          }\n        }\n    "]}),(n=1,a=t.Inject(t.LOCALE_ID),function(e,t){a(e,t,n)})],e)}(),v=function(){function e(e){this.onScroll=new t.EventEmitter,this.listenerAttached=!1,this.element=e}return e.prototype.ngOnChanges=function(e){var t=e.initPosition;if(t&&void 0!==t.currentValue&&this.scrollContent){var n=this;setTimeout((function(){n.scrollContent.scrollTop=t.currentValue}),0)}},e.prototype.ngAfterViewInit=function(){var e=this.scrollContent=this.element.nativeElement.querySelector(".scroll-content");if(void 0!==this.initPosition&&(e.scrollTop=this.initPosition),this.emitEvent&&!this.listenerAttached){var t=this.onScroll;this.handler=function(){t.emit(e.scrollTop)},this.listenerAttached=!0,e.addEventListener("scroll",this.handler)}},e.prototype.ngOnDestroy=function(){this.listenerAttached&&this.scrollContent.removeEventListener("scroll",this.handler)},e.ctorParameters=function(){return[{type:t.ElementRef}]},o([t.Input()],e.prototype,"initPosition",void 0),o([t.Input()],e.prototype,"emitEvent",void 0),o([t.Output()],e.prototype,"onScroll",void 0),e=o([t.Component({selector:"init-position-scroll",template:'\n        <div class="scroll-content" style="height:100%">\n            <ng-content></ng-content>\n        </div>\n    ',encapsulation:t.ViewEncapsulation.None,styles:["\n        .scroll-content {\n            overflow-y: auto;\n            overflow-x: hidden;\n        }        \n    "]})],e)}(),h=function(){function e(){}return e=o([t.NgModule({declarations:[s,d,c,p,v],imports:[a.IonicModule,n.CommonModule],exports:[p]})],e)}();e.CalendarComponent=p,e.NgCalendarModule=h,e.a=s,e.b=r,e.c=d,e.d=c,e.e=v,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ionic2-calendar.umd.min.js.map